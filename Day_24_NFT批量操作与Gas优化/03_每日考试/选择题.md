# Day 24: NFT 批量操作与 Gas 优化 - 选择题

## 📝 考试说明

- **题目数量**: 20 道选择题
- **每题分值**: 1 分
- **总分**: 20 分
- **及格分数**: 14 分（70%）
- **考试时间**: 30 分钟

## 答题说明

每题只有一个正确答案。请将答案写在题号后面。

---

## 选择题

### 第 1 题

批量操作相比单个操作的主要优势是什么？

A. 减少代码复杂度  
B. 减少交易固定成本  
C. 增加安全性  
D. 简化用户界面

**你的答案**: 

---

### 第 2 题

在 Aptos 中，Gas 成本主要由哪些部分组成？

A. 执行成本和网络成本  
B. 存储成本和时间成本  
C. 执行成本、存储成本和 IO 成本  
D. 计算成本和验证成本

**你的答案**: 

---

### 第 3 题

以下哪个操作的 Gas 成本最高？

A. 简单的数学计算  
B. 读取链上数据  
C. 创建新对象  
D. 函数调用

**你的答案**: 

---

### 第 4 题

批量铸造 10 个 NFT，推荐的最大批次大小是多少？

A. 5  
B. 20  
C. 100  
D. 1000

**你的答案**: 

---

### 第 5 题

为什么要使用模板化 URI 而不是为每个 NFT 存储完整 URI？

A. 模板化 URI 更安全  
B. 节省存储空间和 Gas 成本  
C. 模板化 URI 更灵活  
D. 以上都是

**你的答案**: 

---

### 第 6 题

属性打包（Bit Packing）的主要目的是什么？

A. 加密属性数据  
B. 减少存储空间  
C. 提高计算速度  
D. 增强安全性

**你的答案**: 

---

### 第 7 题

以下哪个代码片段更节省 Gas？

```move
// A
for each nft {
    let collection = get_collection();
    mint(collection, nft);
}

// B
let collection = get_collection();
for each nft {
    mint(collection, nft);
}
```

A. 代码 A  
B. 代码 B  
C. 两者相同  
D. 无法确定

**你的答案**: 

---

### 第 8 题

批量操作时，为什么要设置批次大小上限？

A. 提高性能  
B. 防止 Gas 超限和交易过大  
C. 简化代码逻辑  
D. 方便测试

**你的答案**: 

---

### 第 9 题

以下哪种数据结构最适合存储大量 NFT 的属性？

A. Vector（向量）  
B. SimpleMap  
C. SmartTable  
D. 直接在 Token 中存储

**你的答案**: 

---

### 第 10 题

批量发射事件相比单个发射事件的优势是什么？

A. 减少事件数量和 Gas 成本  
B. 提高事件可读性  
C. 增强事件安全性  
D. 简化事件处理

**你的答案**: 

---

### 第 11 题

懒铸造（Lazy Minting）的核心思想是什么？

A. 延迟创建完整 NFT，按需生成  
B. 减少铸造权限检查  
C. 加速铸造过程  
D. 简化铸造逻辑

**你的答案**: 

---

### 第 12 题

以下哪种优化技巧可以节省最多的 Gas？

A. 使用位运算代替乘除法  
B. 减少循环次数  
C. 将元数据存储在链下（IPFS）  
D. 缓存计算结果

**你的答案**: 

---

### 第 13 题

批量转移 NFT 时，应该如何验证所有权？

A. 逐个验证每个 NFT  
B. 只验证第一个 NFT  
C. 批量验证所有 NFT，任一失败则全部失败  
D. 不需要验证

**你的答案**: 

---

### 第 14 题

以下关于批量操作的原子性说法，哪个是正确的？

A. 批量操作不需要原子性  
B. 批量操作应该支持部分成功  
C. 批量操作应该全部成功或全部失败  
D. 原子性会降低性能，应避免

**你的答案**: 

---

### 第 15 题

将 u8 类型的三个属性（rarity, level, category）打包到一个 u32 中，正确的做法是？

A. `(rarity + level + category) as u32`  
B. `(rarity << 0) | (level << 8) | (category << 16)`  
C. `rarity * level * category`  
D. `(rarity & level & category) as u32`

**你的答案**: 

---

### 第 16 题

批量铸造 1000 个 NFT，最佳的策略是什么？

A. 一次性铸造所有 1000 个  
B. 分成多个批次，每批 20-50 个  
C. 逐个铸造  
D. 使用懒铸造，不实际创建 NFT

**你的答案**: 

---

### 第 17 题

以下哪个不是存储优化的有效方法？

A. 使用引用而非复制  
B. 压缩元数据  
C. 增加索引  
D. 使用高效的数据结构

**你的答案**: 

---

### 第 18 题

NFT 元数据存储的最佳实践是什么？

A. 所有数据都存储在链上  
B. 所有数据都存储在链下  
C. 核心数据在链上，详细内容在链下（IPFS）  
D. 随意选择存储位置

**你的答案**: 

---

### 第 19 题

批量操作失败时，应该如何处理？

A. 忽略错误，继续执行  
B. 记录错误，允许部分成功  
C. 回滚整个交易，确保状态一致  
D. 只回滚失败的部分

**你的答案**: 

---

### 第 20 题

以下哪个指标最能衡量批量操作的优化效果？

A. 代码行数  
B. 每个 NFT 的平均 Gas 成本  
C. 函数数量  
D. 事件数量

**你的答案**: 

---

## 📊 评分标准

- **18-20 分**: 优秀（90-100%）- 完全掌握
- **16-17 分**: 良好（80-89%）- 很好掌握
- **14-15 分**: 及格（70-79%）- 基本掌握
- **< 14 分**: 不及格（< 70%）- 需要重新学习

---

## 💡 答题建议

1. **仔细阅读**: 认真阅读每个选项
2. **结合实践**: 联系代码示例思考
3. **排除法**: 先排除明显错误的选项
4. **核心概念**: 回顾理论学习的核心要点
5. **实际应用**: 思考在实际项目中如何应用

---

## 📝 答案记录表

| 题号 | 你的答案 | 正确答案 | 得分 |
|------|----------|----------|------|
| 1    |          |          |      |
| 2    |          |          |      |
| 3    |          |          |      |
| 4    |          |          |      |
| 5    |          |          |      |
| 6    |          |          |      |
| 7    |          |          |      |
| 8    |          |          |      |
| 9    |          |          |      |
| 10   |          |          |      |
| 11   |          |          |      |
| 12   |          |          |      |
| 13   |          |          |      |
| 14   |          |          |      |
| 15   |          |          |      |
| 16   |          |          |      |
| 17   |          |          |      |
| 18   |          |          |      |
| 19   |          |          |      |
| 20   |          |          |      |
| **总分** |      |          | **/20** |

---

**答题完成后，请查看 `答案解析.md` 对照答案并计算得分。**

**祝你考试顺利！📚**
