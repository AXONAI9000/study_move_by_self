# Day 12 每日考试 - 选择题

**考试时间**：30 分钟  
**总分**：50 分  
**及格分**：35 分

---

## 第一部分：单选题（每题 2 分，共 20 分）

### 1. 在链上投票系统中，哪个数据结构最适合存储所有提案？
A. `vector<Proposal>`  
B. `Table<u64, Proposal>`  
C. `SmartTable<u64, Proposal>`  
D. `Option<Proposal>`

**答案**：______

---

### 2. 以下哪种投票权重机制最容易受到闪电贷攻击？
A. 一人一票  
B. 基于实时代币余额的投票  
C. 基于快照的代币余额投票  
D. 时间加权投票

**答案**：______

---

### 3. 提案的状态转换，正确的顺序是？
A. Pending → Active → Executed → Succeeded  
B. Active → Pending → Succeeded → Executed  
C. Pending → Active → Succeeded → Executed  
D. Active → Succeeded → Pending → Executed

**答案**：______

---

### 4. 在 Move 中，防止用户重复投票的最佳方法是？
A. 使用 vector 存储所有投票者地址，每次遍历检查  
B. 使用 Table<address, bool> 记录是否已投票  
C. 使用全局变量计数  
D. 依赖用户诚信，不做检查

**答案**：______

---

### 5. 法定人数（Quorum）的作用是？
A. 决定提案是否通过  
B. 确保有足够的参与度才能统计结果  
C. 限制提案创建数量  
D. 设置投票权重

**答案**：______

---

### 6. 以下哪个不是投票系统应该发射的事件？
A. ProposalCreatedEvent  
B. VoteCastEvent  
C. UserLoginEvent  
D. ProposalExecutedEvent

**答案**：______

---

### 7. 时间锁（Timelock）在提案执行中的作用是？
A. 加速提案执行  
B. 提供缓冲期，防止恶意快速执行  
C. 延长投票时间  
D. 减少 Gas 费用

**答案**：______

---

### 8. 在 Move 中，获取当前区块时间应该使用？
A. `std::time::now()`  
B. `aptos_framework::timestamp::now_seconds()`  
C. `block::timestamp()`  
D. `system::get_time()`

**答案**：______

---

### 9. 委托投票（Delegation）的主要优点是？
A. 增加 Gas 费用  
B. 让不活跃用户也能参与治理  
C. 防止女巫攻击  
D. 加快投票速度

**答案**：______

---

### 10. 以下哪个错误码应该在用户已投票时抛出？
A. `ERROR_PROPOSAL_NOT_FOUND`  
B. `ERROR_VOTING_ENDED`  
C. `ERROR_ALREADY_VOTED`  
D. `ERROR_INVALID_VOTE_TYPE`

**答案**：______

---

## 第二部分：多选题（每题 3 分，共 15 分）

### 11. 投票系统中，提案应该包含哪些基本信息？（多选）
A. 提案 ID  
B. 提案标题和描述  
C. 投票开始和结束时间  
D. 提案人地址  
E. 投票统计（赞成/反对/弃权票数）

**答案**：______

---

### 12. 以下哪些是防止投票系统被攻击的有效措施？（多选）
A. 使用投票快照防止闪电贷攻击  
B. 设置合理的投票期限  
C. 添加时间锁延迟执行  
D. 允许无限次投票  
E. 验证投票时间范围

**答案**：______

---

### 13. 在设计投票系统时，应该考虑哪些 Gas 优化措施？（多选）
A. 使用 SmartTable 而不是 vector 存储大量数据  
B. 批量处理多个投票  
C. 维护累计票数而不是每次重新计算  
D. 使用 String 而不是 vector<u8> 存储所有数据  
E. 避免不必要的状态访问

**答案**：______

---

### 14. 关于投票权重，以下说法正确的是？（多选）
A. 一人一票最简单但容易被女巫攻击  
B. 基于代币的投票权可能导致大户控制  
C. 二次方投票可以平衡不同规模投票者的影响力  
D. 时间加权投票奖励长期持有者  
E. 所有投票权重机制都有优缺点

**答案**：______

---

### 15. 投票系统应该发射事件的原因包括？（多选）
A. 链下索引器可以记录历史  
B. 前端可以实时更新  
C. 审计和分析需要  
D. 增加 Gas 费用  
E. 提高透明度

**答案**：______

---

## 第三部分：判断题（每题 1 分，共 15 分）

### 16. 在 Move 中，Table 可以高效遍历所有键值对。
**答案**：______（对 / 错）

---

### 17. 投票结束后，应该立即执行通过的提案，不需要任何延迟。
**答案**：______（对 / 错）

---

### 18. 使用 `#[view]` 标记的函数不能修改区块链状态。
**答案**：______（对 / 错）

---

### 19. 在投票系统中，应该允许用户在投票期间更改自己的投票。
**答案**：______（对 / 错）

---

### 20. SmartTable 的删除操作比 Table 更快。
**答案**：______（对 / 错）

---

### 21. 投票系统初始化函数应该允许多次调用，以便重置系统。
**答案**：______（对 / 错）

---

### 22. 法定人数（Quorum）必须达到才能判断提案是否通过。
**答案**：______（对 / 错）

---

### 23. 在 Move 中，event 可以包含复杂的数据结构，只要它们有 `drop` 和 `store` 能力。
**答案**：______（对 / 错）

---

### 24. 委托投票意味着受托人可以代表委托人投票，而委托人失去投票权。
**答案**：______（对 / 错）

---

### 25. 使用 timestamp::now_seconds() 获取的时间是绝对安全的，不会被操纵。
**答案**：______（对 / 错）

---

### 26. 在投票系统中，应该使用 Option<Vote> 来表示可能不存在的投票记录。
**答案**：______（对 / 错）

---

### 27. 提案的 executable 字段表示提案是否可以被执行，即使没有通过。
**答案**：______（对 / 错）

---

### 28. 在 Move 中，acquires 关键字用于声明函数会访问全局存储的资源。
**答案**：______（对 / 错）

---

### 29. 投票权重应该在投票时实时计算，而不是使用快照，以保证最新数据。
**答案**：______（对 / 错）

---

### 30. 使用 assert! 宏可以在条件不满足时中止交易并回滚所有状态更改。
**答案**：______（对 / 错）

---

## 答题卡

请在此填写你的答案：

**第一部分（单选题）**
1. _____  2. _____  3. _____  4. _____  5. _____
6. _____  7. _____  8. _____  9. _____  10. _____

**第二部分（多选题）**
11. _____  12. _____  13. _____  14. _____  15. _____

**第三部分（判断题）**
16. _____  17. _____  18. _____  19. _____  20. _____
21. _____  22. _____  23. _____  24. _____  25. _____
26. _____  27. _____  28. _____  29. _____  30. _____

---

**完成后请对照答案解析.md 自行评分！**
