# Day 29 å®è·µä»»åŠ¡ï¼šMempool ç›‘æ§ä¸äº¤æ˜“è¿½è¸ª

## ğŸ“‹ ä»»åŠ¡æ¦‚è¿°

ä»Šå¤©çš„å®è·µä»»åŠ¡å°†å¸®åŠ©ä½ æ„å»ºä¸€ä¸ªå®Œæ•´çš„ Mempool ç›‘æ§å’Œäº¤æ˜“è¿½è¸ªç³»ç»Ÿã€‚é€šè¿‡è¿™äº›ä»»åŠ¡ï¼Œä½ å°†å­¦ä¼šå¦‚ä½•å®æ—¶ç›‘æ§é“¾ä¸Šäº¤æ˜“ã€è¿½è¸ªäº¤æ˜“çŠ¶æ€ï¼Œå¹¶è¯†åˆ«æ½œåœ¨çš„å¥—åˆ©æœºä¼šã€‚

**æ€»æ—¶é—´**: 3å°æ—¶  
**éš¾åº¦**: â­â­â­â­ (ä¸­é«˜çº§)

---

## ğŸ¯ ä»»åŠ¡åˆ—è¡¨

### ä»»åŠ¡ä¸€ï¼šMempool ç›‘æ§å™¨ï¼ˆ60åˆ†é’Ÿï¼‰â­â­â­â­

**ç›®æ ‡**: å®ç°ä¸€ä¸ªå®æ—¶ç›‘æ§ Mempool çš„ç³»ç»Ÿ

**è¦æ±‚**:
1. è¿æ¥åˆ° Aptos Fullnode
2. å®æ—¶ç›‘æ§æ–°äº¤æ˜“
3. æ”¯æŒå¤šç§è¿‡æ»¤æ¡ä»¶ï¼ˆæŒ‰åœ°å€ã€å‡½æ•°ã€Gasç­‰ï¼‰
4. è®°å½•äº¤æ˜“è¯¦æƒ…åˆ°æ•°æ®åº“
5. æä¾›æŸ¥è¯¢æ¥å£

**å®ç°æ­¥éª¤**:

#### Step 1: åŸºç¡€ç›‘æ§å™¨ï¼ˆ20åˆ†é’Ÿï¼‰
```typescript
// src/mempool-monitor.ts

import { AptosClient } from 'aptos';

interface MonitorConfig {
  nodeUrl: string;
  pollInterval: number; // è½®è¯¢é—´éš”ï¼ˆæ¯«ç§’ï¼‰
  filters?: TransactionFilter[];
}

interface TransactionFilter {
  type?: 'sender' | 'function' | 'gas' | 'amount';
  value: any;
}

class MempoolMonitor {
  private client: AptosClient;
  private lastVersion: number = 0;
  private running: boolean = false;
  
  constructor(private config: MonitorConfig) {
    this.client = new AptosClient(config.nodeUrl);
  }
  
  async start() {
    // TODO: å®ç°å¯åŠ¨é€»è¾‘
    // 1. è·å–å½“å‰ ledger version
    // 2. å¯åŠ¨å®šæ—¶è½®è¯¢
    // 3. å¤„ç†æ–°äº¤æ˜“
  }
  
  async stop() {
    // TODO: å®ç°åœæ­¢é€»è¾‘
  }
  
  private async poll() {
    // TODO: å®ç°è½®è¯¢é€»è¾‘
    // 1. è·å–å½“å‰ version
    // 2. å¦‚æœæœ‰æ–°äº¤æ˜“ï¼Œè·å–äº¤æ˜“åˆ—è¡¨
    // 3. è¿‡æ»¤äº¤æ˜“
    // 4. å¤„ç†äº¤æ˜“
  }
  
  private async processTransaction(tx: any) {
    // TODO: å®ç°äº¤æ˜“å¤„ç†é€»è¾‘
    console.log('New transaction:', tx.hash);
  }
  
  private shouldProcess(tx: any): boolean {
    // TODO: å®ç°è¿‡æ»¤é€»è¾‘
    return true;
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const monitor = new MempoolMonitor({
  nodeUrl: 'https://fullnode.testnet.aptoslabs.com/v1',
  pollInterval: 2000,
  filters: [
    { type: 'function', value: 'swap' }
  ]
});

await monitor.start();
```

**ä»»åŠ¡è¦æ±‚**:
- âœ… å®ç°åŸºæœ¬çš„è½®è¯¢ç›‘æ§
- âœ… èƒ½å¤Ÿè·å–æœ€æ–°äº¤æ˜“
- âœ… èƒ½å¤Ÿè¿‡æ»¤äº¤æ˜“
- âœ… èƒ½å¤Ÿä¼˜é›…å¯åŠ¨å’Œåœæ­¢

#### Step 2: é«˜çº§è¿‡æ»¤å™¨ï¼ˆ20åˆ†é’Ÿï¼‰
```typescript
// src/filters.ts

interface FilterConfig {
  senders?: string[];
  recipients?: string[];
  functions?: string[];
  minGas?: number;
  maxGas?: number;
  minAmount?: number;
  customFilter?: (tx: any) => boolean;
}

class AdvancedFilter {
  constructor(private config: FilterConfig) {}
  
  matches(tx: any): boolean {
    // TODO: å®ç°å¤æ‚è¿‡æ»¤é€»è¾‘
    // 1. æ£€æŸ¥å‘é€è€…
    // 2. æ£€æŸ¥å‡½æ•°
    // 3. æ£€æŸ¥ Gas
    // 4. æ£€æŸ¥é‡‘é¢
    // 5. è‡ªå®šä¹‰è¿‡æ»¤
    
    return true;
  }
  
  // ä¸“ç”¨è¿‡æ»¤å™¨ï¼šDEX äº¤æ˜“
  static forDEXTransactions(): AdvancedFilter {
    return new AdvancedFilter({
      functions: ['swap', 'add_liquidity', 'remove_liquidity'],
      minAmount: 1000000 // åªå…³æ³¨å¤§é¢äº¤æ˜“
    });
  }
  
  // ä¸“ç”¨è¿‡æ»¤å™¨ï¼šé«˜ Gas äº¤æ˜“
  static forHighGasTransactions(threshold: number): AdvancedFilter {
    return new AdvancedFilter({
      minGas: threshold
    });
  }
}
```

**ä»»åŠ¡è¦æ±‚**:
- âœ… å®ç°å¤šæ¡ä»¶è¿‡æ»¤
- âœ… æ”¯æŒè‡ªå®šä¹‰è¿‡æ»¤å‡½æ•°
- âœ… æä¾›é¢„è®¾è¿‡æ»¤å™¨
- âœ… æµ‹è¯•å„ç§è¿‡æ»¤åœºæ™¯

#### Step 3: æ•°æ®å­˜å‚¨ï¼ˆ20åˆ†é’Ÿï¼‰
```typescript
// src/storage.ts

interface TransactionRecord {
  hash: string;
  version: number;
  sender: string;
  success: boolean;
  gasUsed: number;
  timestamp: number;
  payload?: any;
}

class TransactionStorage {
  private transactions: Map<string, TransactionRecord> = new Map();
  
  async save(tx: TransactionRecord) {
    // TODO: ä¿å­˜äº¤æ˜“è®°å½•
    // å¯ä»¥ä½¿ç”¨å†…å­˜ã€æ–‡ä»¶æˆ–æ•°æ®åº“
  }
  
  async get(hash: string): Promise<TransactionRecord | null> {
    // TODO: è·å–äº¤æ˜“è®°å½•
    return null;
  }
  
  async query(filter: any): Promise<TransactionRecord[]> {
    // TODO: æŸ¥è¯¢äº¤æ˜“è®°å½•
    return [];
  }
  
  async getStats() {
    // TODO: è·å–ç»Ÿè®¡ä¿¡æ¯
    return {
      totalTransactions: 0,
      successRate: 0,
      avgGasUsed: 0
    };
  }
}
```

**ä»»åŠ¡è¦æ±‚**:
- âœ… å®ç°äº¤æ˜“è®°å½•å­˜å‚¨
- âœ… æ”¯æŒæŸ¥è¯¢åŠŸèƒ½
- âœ… æä¾›ç»Ÿè®¡ä¿¡æ¯
- âœ… å¤„ç†å¤§é‡æ•°æ®

---

### ä»»åŠ¡äºŒï¼šäº¤æ˜“è¿½è¸ªå™¨ï¼ˆ60åˆ†é’Ÿï¼‰â­â­â­â­

**ç›®æ ‡**: å®ç°äº¤æ˜“çŠ¶æ€è¿½è¸ªç³»ç»Ÿ

**è¦æ±‚**:
1. è¿½è¸ªäº¤æ˜“ä»æäº¤åˆ°ç¡®è®¤çš„å…¨è¿‡ç¨‹
2. è®°å½•çŠ¶æ€å˜åŒ–å†å²
3. è®¡ç®—ç¡®è®¤æ—¶é—´
4. å¤„ç†è¶…æ—¶æƒ…å†µ
5. ç”Ÿæˆè¿½è¸ªæŠ¥å‘Š

**å®ç°æ­¥éª¤**:

#### Step 1: äº¤æ˜“è¿½è¸ªå™¨ï¼ˆ25åˆ†é’Ÿï¼‰
```typescript
// src/transaction-tracker.ts

enum TxStatus {
  PENDING = 'pending',
  CONFIRMED = 'confirmed',
  FAILED = 'failed',
  DROPPED = 'dropped',
  TIMEOUT = 'timeout'
}

interface TrackedTransaction {
  hash: string;
  submitTime: number;
  confirmTime?: number;
  status: TxStatus;
  gasUsed?: number;
  success?: boolean;
  history: StatusChange[];
}

interface StatusChange {
  status: TxStatus;
  timestamp: number;
  details?: any;
}

class TransactionTracker {
  private trackedTxs: Map<string, TrackedTransaction> = new Map();
  private client: AptosClient;
  
  constructor(nodeUrl: string) {
    this.client = new AptosClient(nodeUrl);
  }
  
  async track(txHash: string): Promise<void> {
    // TODO: å¼€å§‹è¿½è¸ªäº¤æ˜“
    // 1. æ·»åŠ åˆ°è¿½è¸ªåˆ—è¡¨
    // 2. å®šæœŸæ£€æŸ¥çŠ¶æ€
    // 3. æ›´æ–°çŠ¶æ€å˜åŒ–
  }
  
  async checkStatus(txHash: string): Promise<TxStatus> {
    // TODO: æ£€æŸ¥äº¤æ˜“çŠ¶æ€
    // 1. æŸ¥è¯¢äº¤æ˜“
    // 2. åˆ¤æ–­çŠ¶æ€
    // 3. æ›´æ–°è®°å½•
    
    return TxStatus.PENDING;
  }
  
  async waitForConfirmation(
    txHash: string,
    timeout: number = 30000
  ): Promise<TrackedTransaction> {
    // TODO: ç­‰å¾…äº¤æ˜“ç¡®è®¤
    // 1. å¾ªç¯æ£€æŸ¥çŠ¶æ€
    // 2. è¶…æ—¶å¤„ç†
    // 3. è¿”å›ç»“æœ
    
    throw new Error('Not implemented');
  }
  
  getTrackedTransaction(txHash: string): TrackedTransaction | undefined {
    return this.trackedTxs.get(txHash);
  }
  
  getConfirmationTime(txHash: string): number | null {
    // TODO: è®¡ç®—ç¡®è®¤æ—¶é—´
    return null;
  }
}
```

**ä»»åŠ¡è¦æ±‚**:
- âœ… å®ç°äº¤æ˜“çŠ¶æ€è¿½è¸ª
- âœ… è®°å½•çŠ¶æ€å˜åŒ–å†å²
- âœ… æ”¯æŒè¶…æ—¶å¤„ç†
- âœ… è®¡ç®—ç¡®è®¤æ—¶é—´

#### Step 2: æ‰¹é‡è¿½è¸ªï¼ˆ20åˆ†é’Ÿï¼‰
```typescript
// src/batch-tracker.ts

class BatchTransactionTracker {
  private tracker: TransactionTracker;
  
  async trackMultiple(txHashes: string[]): Promise<Map<string, TrackedTransaction>> {
    // TODO: æ‰¹é‡è¿½è¸ªäº¤æ˜“
    // 1. å¹¶å‘è¿½è¸ªå¤šä¸ªäº¤æ˜“
    // 2. æ”¶é›†ç»“æœ
    // 3. è¿”å›æ‰€æœ‰ç»“æœ
    
    return new Map();
  }
  
  async waitForAll(
    txHashes: string[],
    timeout: number
  ): Promise<Map<string, TrackedTransaction>> {
    // TODO: ç­‰å¾…æ‰€æœ‰äº¤æ˜“ç¡®è®¤
    // 1. å¹¶å‘ç­‰å¾…
    // 2. ä»»æ„å¤±è´¥ä¸å½±å“å…¶ä»–
    // 3. è¿”å›æ‰€æœ‰ç»“æœ
    
    return new Map();
  }
  
  async generateReport(txHashes: string[]): Promise<TrackingReport> {
    // TODO: ç”Ÿæˆè¿½è¸ªæŠ¥å‘Š
    return {
      totalTracked: 0,
      confirmed: 0,
      failed: 0,
      pending: 0,
      avgConfirmTime: 0,
      details: []
    };
  }
}

interface TrackingReport {
  totalTracked: number;
  confirmed: number;
  failed: number;
  pending: number;
  avgConfirmTime: number;
  details: TrackedTransaction[];
}
```

**ä»»åŠ¡è¦æ±‚**:
- âœ… æ”¯æŒæ‰¹é‡è¿½è¸ª
- âœ… å¹¶å‘å¤„ç†
- âœ… ç”ŸæˆæŠ¥å‘Š
- âœ… é”™è¯¯å¤„ç†

#### Step 3: å®æ—¶é€šçŸ¥ï¼ˆ15åˆ†é’Ÿï¼‰
```typescript
// src/notification.ts

type NotificationCallback = (tx: TrackedTransaction) => void;

class TransactionNotifier {
  private callbacks: Map<string, NotificationCallback[]> = new Map();
  
  subscribe(txHash: string, callback: NotificationCallback) {
    // TODO: è®¢é˜…äº¤æ˜“çŠ¶æ€å˜åŒ–é€šçŸ¥
  }
  
  unsubscribe(txHash: string, callback: NotificationCallback) {
    // TODO: å–æ¶ˆè®¢é˜…
  }
  
  notify(txHash: string, tx: TrackedTransaction) {
    // TODO: é€šçŸ¥æ‰€æœ‰è®¢é˜…è€…
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const notifier = new TransactionNotifier();
notifier.subscribe(txHash, (tx) => {
  if (tx.status === TxStatus.CONFIRMED) {
    console.log(`âœ… Transaction confirmed in ${tx.confirmTime! - tx.submitTime}ms`);
  }
});
```

**ä»»åŠ¡è¦æ±‚**:
- âœ… å®ç°è®¢é˜…æœºåˆ¶
- âœ… æ”¯æŒå¤šä¸ªè®¢é˜…è€…
- âœ… çŠ¶æ€å˜åŒ–æ—¶é€šçŸ¥
- âœ… å–æ¶ˆè®¢é˜…åŠŸèƒ½

---

### ä»»åŠ¡ä¸‰ï¼šæœºä¼šæ‰«æå™¨ï¼ˆ45åˆ†é’Ÿï¼‰â­â­â­â­â­

**ç›®æ ‡**: è¯†åˆ« DEX å¥—åˆ©å’Œæ¸…ç®—æœºä¼š

**è¦æ±‚**:
1. æ‰«æ DEX äº¤æ˜“
2. è¯†åˆ«å¥—åˆ©æœºä¼š
3. è®¡ç®—é¢„æœŸæ”¶ç›Š
4. å‘é€å‘Šè­¦é€šçŸ¥

**å®ç°æ­¥éª¤**:

#### Step 1: DEX äº¤æ˜“åˆ†æï¼ˆ20åˆ†é’Ÿï¼‰
```typescript
// src/opportunity-scanner.ts

interface DEXTrade {
  dex: string;
  tokenIn: string;
  tokenOut: string;
  amountIn: number;
  amountOut: number;
  sender: string;
  txHash: string;
  timestamp: number;
}

interface ArbitrageOpportunity {
  dexA: string;
  dexB: string;
  tokenPair: string;
  priceA: number;
  priceB: number;
  profitPercent: number;
  estimatedProfit: number;
  confidence: number;
}

class OpportunityScanner {
  async scanDEXTrades(tx: any): Promise<DEXTrade | null> {
    // TODO: åˆ†ææ˜¯å¦æ˜¯ DEX äº¤æ˜“
    // 1. æ£€æŸ¥ payload ç±»å‹
    // 2. è¯†åˆ« DEX
    // 3. æå–äº¤æ˜“ä¿¡æ¯
    
    return null;
  }
  
  async findArbitrageOpportunities(): Promise<ArbitrageOpportunity[]> {
    // TODO: å¯»æ‰¾å¥—åˆ©æœºä¼š
    // 1. è·å–å¤šä¸ª DEX çš„ä»·æ ¼
    // 2. æ¯”è¾ƒä»·æ ¼å·®å¼‚
    // 3. è®¡ç®—æ”¶ç›Š
    // 4. è¿‡æ»¤ä½æ”¶ç›Šæœºä¼š
    
    return [];
  }
  
  async calculateProfit(opportunity: ArbitrageOpportunity): Promise<number> {
    // TODO: è®¡ç®—å®é™…æ”¶ç›Š
    // 1. è€ƒè™‘äº¤æ˜“è´¹ç”¨
    // 2. è€ƒè™‘ Gas è´¹ç”¨
    // 3. è€ƒè™‘æ»‘ç‚¹
    // 4. è¿”å›å‡€æ”¶ç›Š
    
    return 0;
  }
}
```

**ä»»åŠ¡è¦æ±‚**:
- âœ… è¯†åˆ« DEX äº¤æ˜“
- âœ… æå–äº¤æ˜“ä¿¡æ¯
- âœ… å¯»æ‰¾å¥—åˆ©æœºä¼š
- âœ… å‡†ç¡®è®¡ç®—æ”¶ç›Š

#### Step 2: å‘Šè­¦ç³»ç»Ÿï¼ˆ15åˆ†é’Ÿï¼‰
```typescript
// src/alerting.ts

interface Alert {
  type: 'arbitrage' | 'liquidation' | 'large_trade';
  message: string;
  data: any;
  timestamp: number;
  priority: 'low' | 'medium' | 'high';
}

class AlertSystem {
  async sendAlert(alert: Alert) {
    // TODO: å‘é€å‘Šè­¦
    // 1. æ§åˆ¶å°è¾“å‡º
    // 2. æ–‡ä»¶è®°å½•
    // 3. Webhook é€šçŸ¥
    
    console.log(`ğŸš¨ [${alert.priority.toUpperCase()}] ${alert.message}`);
  }
  
  async alertArbitrage(opportunity: ArbitrageOpportunity) {
    if (opportunity.estimatedProfit > 100) { // $100 é˜ˆå€¼
      await this.sendAlert({
        type: 'arbitrage',
        message: `å¥—åˆ©æœºä¼š: ${opportunity.dexA} vs ${opportunity.dexB}, é¢„æœŸåˆ©æ¶¦ $${opportunity.estimatedProfit}`,
        data: opportunity,
        timestamp: Date.now(),
        priority: opportunity.estimatedProfit > 1000 ? 'high' : 'medium'
      });
    }
  }
  
  async alertLargeTrade(trade: DEXTrade) {
    // TODO: å¤§é¢äº¤æ˜“å‘Šè­¦
  }
}
```

**ä»»åŠ¡è¦æ±‚**:
- âœ… å®ç°å‘Šè­¦ç³»ç»Ÿ
- âœ… æ”¯æŒå¤šç§å‘Šè­¦ç±»å‹
- âœ… ä¼˜å…ˆçº§ç®¡ç†
- âœ… å¤šç§é€šçŸ¥æ–¹å¼

#### Step 3: ç»¼åˆåº”ç”¨ï¼ˆ10åˆ†é’Ÿï¼‰
```typescript
// src/main.ts

async function main() {
  // 1. å¯åŠ¨ç›‘æ§å™¨
  const monitor = new MempoolMonitor({
    nodeUrl: 'https://fullnode.testnet.aptoslabs.com/v1',
    pollInterval: 2000
  });
  
  // 2. å¯åŠ¨æ‰«æå™¨
  const scanner = new OpportunityScanner();
  const alertSystem = new AlertSystem();
  
  // 3. å¤„ç†äº¤æ˜“
  monitor.onTransaction(async (tx) => {
    // åˆ†æ DEX äº¤æ˜“
    const trade = await scanner.scanDEXTrades(tx);
    if (trade) {
      console.log('DEX Trade detected:', trade);
    }
    
    // æ‰«æå¥—åˆ©æœºä¼š
    const opportunities = await scanner.findArbitrageOpportunities();
    for (const opp of opportunities) {
      await alertSystem.alertArbitrage(opp);
    }
  });
  
  await monitor.start();
  
  console.log('Monitoring started...');
}

main().catch(console.error);
```

---

### ä»»åŠ¡å››ï¼šæ€§èƒ½ä¼˜åŒ–ï¼ˆ15åˆ†é’Ÿï¼‰â­â­â­

**ç›®æ ‡**: ä¼˜åŒ–ç›‘æ§ç³»ç»Ÿæ€§èƒ½

**è¦æ±‚**:
1. å‡å°‘APIè°ƒç”¨æ¬¡æ•°
2. å®ç°ç¼“å­˜æœºåˆ¶
3. ä¼˜åŒ–å†…å­˜ä½¿ç”¨
4. æé«˜å¤„ç†é€Ÿåº¦

**å®ç°æ­¥éª¤**:

```typescript
// src/performance.ts

class PerformanceOptimizer {
  private cache = new Map<string, { data: any, timestamp: number }>();
  private cacheTimeout = 60000; // 1åˆ†é’Ÿ
  
  // ç¼“å­˜æœºåˆ¶
  async getCached<T>(key: string, fetcher: () => Promise<T>): Promise<T> {
    const cached = this.cache.get(key);
    if (cached && Date.now() - cached.timestamp < this.cacheTimeout) {
      return cached.data;
    }
    
    const data = await fetcher();
    this.cache.set(key, { data, timestamp: Date.now() });
    return data;
  }
  
  // æ‰¹é‡è¯·æ±‚
  async batchRequests<T>(requests: (() => Promise<T>)[]): Promise<T[]> {
    return Promise.all(requests.map(req => req()));
  }
  
  // é™æµ
  private requestQueue: (() => Promise<any>)[] = [];
  private processing = false;
  private maxConcurrent = 5;
  
  async rateLimit<T>(fn: () => Promise<T>): Promise<T> {
    return new Promise((resolve, reject) => {
      this.requestQueue.push(async () => {
        try {
          const result = await fn();
          resolve(result);
        } catch (error) {
          reject(error);
        }
      });
      
      this.processQueue();
    });
  }
  
  private async processQueue() {
    if (this.processing) return;
    this.processing = true;
    
    while (this.requestQueue.length > 0) {
      const batch = this.requestQueue.splice(0, this.maxConcurrent);
      await Promise.all(batch.map(fn => fn()));
    }
    
    this.processing = false;
  }
}
```

**ä»»åŠ¡è¦æ±‚**:
- âœ… å®ç°ç¼“å­˜æœºåˆ¶
- âœ… æ”¯æŒæ‰¹é‡è¯·æ±‚
- âœ… å®ç°é™æµ
- âœ… æ€§èƒ½ç›‘æ§

---

## âœ… éªŒæ”¶æ ‡å‡†

å®Œæˆæ‰€æœ‰ä»»åŠ¡åï¼Œä½ çš„ç³»ç»Ÿåº”è¯¥ï¼š

### åŠŸèƒ½è¦æ±‚
- [ ] èƒ½å¤Ÿå®æ—¶ç›‘æ§ Aptos Fullnode çš„æ–°äº¤æ˜“
- [ ] æ”¯æŒå¤šç§è¿‡æ»¤æ¡ä»¶
- [ ] èƒ½å¤Ÿè¿½è¸ªäº¤æ˜“çŠ¶æ€å˜åŒ–
- [ ] èƒ½å¤Ÿè¯†åˆ« DEX å¥—åˆ©æœºä¼š
- [ ] èƒ½å¤Ÿå‘é€å‘Šè­¦é€šçŸ¥
- [ ] æä¾›æŸ¥è¯¢å’Œç»Ÿè®¡åŠŸèƒ½

### æ€§èƒ½è¦æ±‚
- [ ] å»¶è¿Ÿ < 3ç§’ï¼ˆä»äº¤æ˜“ä¸Šé“¾åˆ°æ£€æµ‹ï¼‰
- [ ] æ”¯æŒæ¯ç§’å¤„ç† 100+ äº¤æ˜“
- [ ] å†…å­˜ä½¿ç”¨åˆç†ï¼ˆ< 500MBï¼‰
- [ ] CPU ä½¿ç”¨ç‡ < 50%

### ä»£ç è´¨é‡
- [ ] ä»£ç ç»“æ„æ¸…æ™°
- [ ] æœ‰é€‚å½“çš„é”™è¯¯å¤„ç†
- [ ] æœ‰åŸºæœ¬çš„å•å…ƒæµ‹è¯•
- [ ] æœ‰ä½¿ç”¨æ–‡æ¡£

---

## ğŸ“ æäº¤è¦æ±‚

### 1. ä»£ç æ–‡ä»¶
```
your-solution/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ mempool-monitor.ts
â”‚   â”œâ”€â”€ transaction-tracker.ts
â”‚   â”œâ”€â”€ opportunity-scanner.ts
â”‚   â”œâ”€â”€ filters.ts
â”‚   â”œâ”€â”€ storage.ts
â”‚   â”œâ”€â”€ alerting.ts
â”‚   â””â”€â”€ main.ts
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ *.test.ts
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

### 2. README.md å†…å®¹
- é¡¹ç›®è¯´æ˜
- å®‰è£…æ­¥éª¤
- ä½¿ç”¨æ–¹æ³•
- é…ç½®è¯´æ˜
- ç¤ºä¾‹è¾“å‡º

### 3. è¿è¡Œæ¼”ç¤º
æä¾›è¿è¡Œæˆªå›¾æˆ–æ—¥å¿—ï¼Œå±•ç¤ºï¼š
- ç›‘æ§å™¨å¯åŠ¨
- äº¤æ˜“æ£€æµ‹
- æœºä¼šå‘ç°
- å‘Šè­¦é€šçŸ¥

---

## ğŸ¯ åŠ åˆ†é¡¹

ä»¥ä¸‹åŠŸèƒ½å¯ä»¥è·å¾—é¢å¤–åˆ†æ•°ï¼š

1. **WebSocket è®¢é˜…** (+10åˆ†)
   - ä½¿ç”¨ WebSocket ä»£æ›¿è½®è¯¢
   - å®æ—¶æ€§æ›´å¥½

2. **æ•°æ®å¯è§†åŒ–** (+15åˆ†)
   - æ„å»ºç®€å•çš„ Web ç•Œé¢
   - å®æ—¶æ˜¾ç¤ºç›‘æ§æ•°æ®

3. **æŒä¹…åŒ–å­˜å‚¨** (+10åˆ†)
   - ä½¿ç”¨æ•°æ®åº“ï¼ˆSQLite/PostgreSQLï¼‰
   - ä¿å­˜å†å²æ•°æ®

4. **æœºå™¨å­¦ä¹ ** (+20åˆ†)
   - ä½¿ç”¨ ML é¢„æµ‹å¥—åˆ©æœºä¼š
   - ä¼˜åŒ–ç­–ç•¥å‚æ•°

5. **å¤šé“¾æ”¯æŒ** (+15åˆ†)
   - æ”¯æŒå¤šä¸ªç½‘ç»œï¼ˆMainnet/Testnet/Devnetï¼‰
   - è‡ªåŠ¨åˆ‡æ¢

---

## ğŸ’¡ æç¤º

### è°ƒè¯•æŠ€å·§
```typescript
// ä½¿ç”¨è°ƒè¯•æ—¥å¿—
const DEBUG = process.env.DEBUG === 'true';

function log(...args: any[]) {
  if (DEBUG) {
    console.log(new Date().toISOString(), ...args);
  }
}
```

### æµ‹è¯•æŠ€å·§
```typescript
// ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®æµ‹è¯•
const mockTransaction = {
  hash: '0xabc123',
  version: '12345',
  sender: '0x1',
  success: true,
  // ...
};

// æµ‹è¯•è¿‡æ»¤å™¨
const filter = new AdvancedFilter({ functions: ['swap'] });
assert(filter.matches(mockTransaction));
```

### æ€§èƒ½æµ‹è¯•
```typescript
// æµ‹é‡æ‰§è¡Œæ—¶é—´
const start = Date.now();
await monitor.poll();
console.log(`Poll took ${Date.now() - start}ms`);
```

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [Aptos Fullnode API](https://fullnode.devnet.aptoslabs.com/v1/spec)
- [Aptos TypeScript SDK](https://github.com/aptos-labs/aptos-core/tree/main/ecosystem/typescript/sdk)
- [äº¤æ˜“ç”Ÿå‘½å‘¨æœŸ](https://aptos.dev/guides/transaction-lifecycle)

---

**Good luck! ğŸš€**

å®Œæˆåè¯·ç»§ç»­å­¦ä¹ æ¯æ—¥è€ƒè¯•éƒ¨åˆ†ã€‚
