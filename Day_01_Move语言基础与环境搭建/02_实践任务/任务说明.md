# Day 01 å®è·µä»»åŠ¡

## ä»»åŠ¡æ¦‚è¿°

ä»Šå¤©ä½ éœ€è¦å®Œæˆç¯å¢ƒæ­å»ºå’Œä¸‰ä¸ªåŸºç¡€ç¼–ç¨‹ä»»åŠ¡ï¼Œç†Ÿæ‚‰ Move è¯­è¨€çš„å¼€å‘æµç¨‹ã€‚

---

## å‰ç½®ä»»åŠ¡ï¼šç¯å¢ƒæ­å»ºï¼ˆå¿…é¡»å®Œæˆï¼‰

### ğŸ“‹ ä»»åŠ¡æè¿°

åœ¨å¼€å§‹ç¼–ç¨‹ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆæ­å»ºå¥½å¼€å‘ç¯å¢ƒã€‚

### ğŸ¯ å®‰è£…æ¸…å•

#### 1. å®‰è£… Aptos CLI

**Windows:**
```powershell
# ä½¿ç”¨ PowerShell
iwr "https://aptos.dev/scripts/install_cli.py" -useb | iex
```

**macOS/Linux:**
```bash
curl -fsSL "https://aptos.dev/scripts/install_cli.py" | python3
```

éªŒè¯å®‰è£…ï¼š
```bash
aptos --version
```

#### 2. é…ç½® Aptos è´¦æˆ·

```bash
# åˆå§‹åŒ– Aptos é…ç½®
aptos init

# é€‰æ‹©ç½‘ç»œï¼šdevnet
# ä¼šè‡ªåŠ¨ç”Ÿæˆç§é’¥å’Œåœ°å€
```

æŸ¥çœ‹ä½ çš„åœ°å€ï¼š
```bash
aptos account list
```

#### 3. è·å–æµ‹è¯•ä»£å¸

```bash
# ä»æ°´é¾™å¤´è·å–æµ‹è¯• APT
aptos account fund-with-faucet --account default
```

éªŒè¯ä½™é¢ï¼š
```bash
aptos account list --account default
```

#### 4. å®‰è£… VS Code æ’ä»¶

åœ¨ VS Code ä¸­æœç´¢å¹¶å®‰è£…ï¼š
- **Move** (by Move Foundation)
- **Move Syntax** (è¯­æ³•é«˜äº®)

#### 5. åˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®

```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir my_first_move_project
cd my_first_move_project

# åˆå§‹åŒ– Move é¡¹ç›®
aptos move init --name my_first_project
```

é¡¹ç›®ç»“æ„ï¼š
```
my_first_move_project/
â”œâ”€â”€ Move.toml          # é¡¹ç›®é…ç½®æ–‡ä»¶
â”œâ”€â”€ sources/           # æºä»£ç ç›®å½•
â”œâ”€â”€ tests/             # æµ‹è¯•æ–‡ä»¶ç›®å½•
â””â”€â”€ scripts/           # è„šæœ¬ç›®å½•
```

### âœ… éªŒè¯æ¸…å•

- [ ] Aptos CLI å®‰è£…æˆåŠŸå¹¶èƒ½æŸ¥çœ‹ç‰ˆæœ¬
- [ ] æˆåŠŸåˆ›å»ºå¹¶æŸ¥çœ‹ Aptos è´¦æˆ·
- [ ] æˆåŠŸè·å–æµ‹è¯•ä»£å¸ï¼ˆä½™é¢ > 0ï¼‰
- [ ] VS Code Move æ’ä»¶å®‰è£…å®Œæˆ
- [ ] æˆåŠŸåˆ›å»º Move é¡¹ç›®

---

## ä»»åŠ¡ 1ï¼šHello Worldï¼ˆ20 åˆ†ï¼‰

### ğŸ“‹ ä»»åŠ¡æè¿°

åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ª Move æ¨¡å—ï¼Œå®ç°åŸºæœ¬çš„é—®å€™åŠŸèƒ½ã€‚

### ğŸ¯ åŠŸèƒ½è¦æ±‚

åˆ›å»º `sources/hello.move` æ–‡ä»¶ï¼Œå®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š

1. å®šä¹‰ä¸€ä¸ªæ¨¡å— `hello_world`
2. å®ç°å‡½æ•° `say_hello()`: æ‰“å° "Hello, Move!"
3. å®ç°å‡½æ•° `greet(name: vector<u8>)`: æ‰“å° "Hello, [name]!"
4. å®ç°å‡½æ•° `add_numbers(a: u64, b: u64): u64`: è¿”å›ä¸¤æ•°ä¹‹å’Œ

### ğŸ“ ä»£ç æ¡†æ¶

```move
module my_addr::hello_world {
    use std::string;
    use std::debug;

    // TODO: å®ç° say_hello å‡½æ•°
    
    // TODO: å®ç° greet å‡½æ•°
    
    // TODO: å®ç° add_numbers å‡½æ•°
    
    #[test]
    fun test_add_numbers() {
        assert!(add_numbers(2, 3) == 5, 0);
    }
}
```

### ğŸ’¡ æç¤º

- ä½¿ç”¨ `string::utf8(b"...")` åˆ›å»ºå­—ç¬¦ä¸²
- ä½¿ç”¨ `debug::print(&value)` æ‰“å°å€¼
- ä½¿ç”¨ `string::append()` æ‹¼æ¥å­—ç¬¦ä¸²

### âœ… éªŒè¯æ–¹æ³•

```bash
# ç¼–è¯‘
aptos move compile

# æµ‹è¯•
aptos move test
```

---

## ä»»åŠ¡ 2ï¼šç®€å•è®¡æ•°å™¨ï¼ˆ30 åˆ†ï¼‰

### ğŸ“‹ ä»»åŠ¡æè¿°

å®ç°ä¸€ä¸ªå­˜å‚¨åœ¨é“¾ä¸Šçš„è®¡æ•°å™¨ï¼Œæ”¯æŒå¢åŠ ã€å‡å°‘å’ŒæŸ¥è¯¢æ“ä½œã€‚

### ğŸ¯ åŠŸèƒ½è¦æ±‚

åˆ›å»º `sources/counter.move` æ–‡ä»¶ï¼Œå®ç°ï¼š

1. å®šä¹‰ç»“æ„ä½“ `Counter` (å…·æœ‰ `key` èƒ½åŠ›)ï¼š
   ```move
   struct Counter has key {
       value: u64
   }
   ```

2. å®ç°ä»¥ä¸‹å‡½æ•°ï¼š
   - `create_counter(account: &signer)`: åˆ›å»ºè®¡æ•°å™¨ï¼ˆåˆå§‹å€¼ä¸º 0ï¼‰
   - `increment(account: &signer)`: è®¡æ•°å™¨åŠ  1
   - `decrement(account: &signer)`: è®¡æ•°å™¨å‡ 1
   - `get_value(addr: address): u64`: æŸ¥è¯¢è®¡æ•°å™¨çš„å€¼
   - `set_value(account: &signer, value: u64)`: è®¾ç½®è®¡æ•°å™¨çš„å€¼

### ğŸ” å®‰å…¨è¦æ±‚

- åˆ›å»ºè®¡æ•°å™¨å‰è¦æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
- å‡å°‘æ—¶è¦æ£€æŸ¥æ˜¯å¦ä¼šä¸‹æº¢ï¼ˆå€¼ >= 1ï¼‰
- åªæœ‰æ‹¥æœ‰è€…æ‰èƒ½ä¿®æ”¹è®¡æ•°å™¨

### ğŸ“ ä»£ç æ¡†æ¶

```move
module my_addr::counter {
    use std::signer;

    struct Counter has key {
        value: u64
    }

    const E_COUNTER_ALREADY_EXISTS: u64 = 1;
    const E_COUNTER_NOT_FOUND: u64 = 2;
    const E_COUNTER_UNDERFLOW: u64 = 3;

    // TODO: å®ç° create_counter
    
    // TODO: å®ç° increment
    
    // TODO: å®ç° decrement
    
    // TODO: å®ç° get_value
    
    // TODO: å®ç° set_value

    #[test(account = @0x1)]
    fun test_counter(account: &signer) acquires Counter {
        create_counter(account);
        let addr = signer::address_of(account);
        
        assert!(get_value(addr) == 0, 0);
        
        increment(account);
        assert!(get_value(addr) == 1, 0);
        
        increment(account);
        assert!(get_value(addr) == 2, 0);
        
        decrement(account);
        assert!(get_value(addr) == 1, 0);
    }
}
```

### ğŸ’¡ æç¤º

- ä½¿ç”¨ `move_to(account, resource)` å­˜å‚¨èµ„æº
- ä½¿ç”¨ `exists<T>(addr)` æ£€æŸ¥èµ„æºæ˜¯å¦å­˜åœ¨
- ä½¿ç”¨ `borrow_global<T>(addr)` è¯»å–èµ„æº
- ä½¿ç”¨ `borrow_global_mut<T>(addr)` ä¿®æ”¹èµ„æº
- è®°å¾—æ·»åŠ  `acquires` å£°æ˜

### âœ… éªŒè¯æ–¹æ³•

```bash
aptos move test --filter counter
```

---

## ä»»åŠ¡ 3ï¼šä¸ªäººèµ„æ–™ç®¡ç†ï¼ˆ50 åˆ†ï¼‰

### ğŸ“‹ ä»»åŠ¡æè¿°

å®ç°ä¸€ä¸ªé“¾ä¸Šä¸ªäººèµ„æ–™ç®¡ç†ç³»ç»Ÿï¼Œç”¨æˆ·å¯ä»¥è®¾ç½®å’Œæ›´æ–°è‡ªå·±çš„èµ„æ–™ã€‚

### ğŸ¯ åŠŸèƒ½è¦æ±‚

åˆ›å»º `sources/profile.move` æ–‡ä»¶ï¼Œå®ç°ï¼š

1. å®šä¹‰ç»“æ„ä½“ `UserProfile` (å…·æœ‰ `key` èƒ½åŠ›)ï¼š
   ```move
   struct UserProfile has key {
       name: string::String,
       age: u8,
       bio: string::String,
       is_verified: bool,
       created_at: u64  // æ—¶é—´æˆ³
   }
   ```

2. å®ç°ä»¥ä¸‹å‡½æ•°ï¼š
   - `create_profile(account: &signer, name: vector<u8>, age: u8, bio: vector<u8>)`: åˆ›å»ºèµ„æ–™
   - `update_name(account: &signer, new_name: vector<u8>)`: æ›´æ–°åå­—
   - `update_age(account: &signer, new_age: u8)`: æ›´æ–°å¹´é¾„
   - `update_bio(account: &signer, new_bio: vector<u8>)`: æ›´æ–°ç®€ä»‹
   - `verify_profile(account: &signer)`: éªŒè¯èµ„æ–™ï¼ˆè®¾ç½® verified ä¸º trueï¼‰
   - `get_profile(addr: address): (string::String, u8, string::String, bool)`: è·å–èµ„æ–™
   - `profile_exists(addr: address): bool`: æ£€æŸ¥èµ„æ–™æ˜¯å¦å­˜åœ¨

### ğŸ” å®‰å…¨è¦æ±‚

- åˆ›å»ºèµ„æ–™å‰æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
- å¹´é¾„å¿…é¡»åœ¨ 1-150 ä¹‹é—´
- åå­—å’Œç®€ä»‹ä¸èƒ½ä¸ºç©º
- åªæœ‰æ‹¥æœ‰è€…å¯ä»¥ä¿®æ”¹è‡ªå·±çš„èµ„æ–™

### ğŸ“ ä»£ç æ¡†æ¶

```move
module my_addr::profile {
    use std::signer;
    use std::string::{Self, String};

    struct UserProfile has key {
        name: String,
        age: u8,
        bio: String,
        is_verified: bool,
        created_at: u64
    }

    const E_PROFILE_ALREADY_EXISTS: u64 = 1;
    const E_PROFILE_NOT_FOUND: u64 = 2;
    const E_INVALID_AGE: u64 = 3;
    const E_EMPTY_NAME: u64 = 4;
    const E_EMPTY_BIO: u64 = 5;

    // TODO: å®ç°æ‰€æœ‰å‡½æ•°

    #[test(account = @0x1)]
    fun test_create_profile(account: &signer) acquires UserProfile {
        create_profile(account, b"Alice", 25, b"Move developer");
        
        let addr = signer::address_of(account);
        assert!(profile_exists(addr), 0);
        
        let (name, age, bio, verified) = get_profile(addr);
        assert!(age == 25, 0);
        assert!(verified == false, 0);
    }

    #[test(account = @0x1)]
    fun test_update_profile(account: &signer) acquires UserProfile {
        create_profile(account, b"Alice", 25, b"Developer");
        
        update_name(account, b"Alice Wang");
        update_age(account, 26);
        
        let addr = signer::address_of(account);
        let (name, age, _, _) = get_profile(addr);
        assert!(age == 26, 0);
    }
}
```

### ğŸ’¡ æç¤º

- ä½¿ç”¨ `aptos_framework::timestamp::now_seconds()` è·å–å½“å‰æ—¶é—´
- ä½¿ç”¨ `vector::length(&v)` æ£€æŸ¥å‘é‡æ˜¯å¦ä¸ºç©º
- ä½¿ç”¨ `string::utf8(bytes)` å°†å­—èŠ‚è½¬æ¢ä¸ºå­—ç¬¦ä¸²

### âœ… éªŒè¯æ–¹æ³•

```bash
aptos move test --filter profile
```

---

## æäº¤è¦æ±‚

### ğŸ“‚ æ–‡ä»¶ç»“æ„

```
Day_01_Moveè¯­è¨€åŸºç¡€ä¸ç¯å¢ƒæ­å»º/
â””â”€â”€ 02_å®è·µä»»åŠ¡/
    â””â”€â”€ ä½ çš„ç­”æ¡ˆ/
        â”œâ”€â”€ Move.toml
        â””â”€â”€ sources/
            â”œâ”€â”€ hello.move
            â”œâ”€â”€ counter.move
            â””â”€â”€ profile.move
```

### âœ… å®Œæ•´éªŒè¯æµç¨‹

```bash
# 1. è¿›å…¥ä»»åŠ¡ç›®å½•
cd Day_01_Moveè¯­è¨€åŸºç¡€ä¸ç¯å¢ƒæ­å»º/02_å®è·µä»»åŠ¡/ä½ çš„ç­”æ¡ˆ

# 2. ç¼–è¯‘é¡¹ç›®
aptos move compile

# 3. è¿è¡Œæ‰€æœ‰æµ‹è¯•
aptos move test

# 4. è¿è¡Œç‰¹å®šæµ‹è¯•
aptos move test --filter hello
aptos move test --filter counter
aptos move test --filter profile
```

### ğŸ“Š è¯„åˆ†æ ‡å‡†

| é¡¹ç›® | åˆ†æ•° | è¯„åˆ†è¦ç‚¹ |
|------|------|----------|
| **ç¯å¢ƒæ­å»º** | å¿…é€‰ | CLIå®‰è£…ã€è´¦æˆ·é…ç½®ã€æµ‹è¯•å¸è·å– |
| **ä»»åŠ¡ 1** | 20 | åŠŸèƒ½å®Œæ•´ (10åˆ†) + æµ‹è¯•é€šè¿‡ (10åˆ†) |
| **ä»»åŠ¡ 2** | 30 | åŠŸèƒ½å®Œæ•´ (15åˆ†) + å®‰å…¨æ£€æŸ¥ (10åˆ†) + æµ‹è¯•é€šè¿‡ (5åˆ†) |
| **ä»»åŠ¡ 3** | 50 | åŠŸèƒ½å®Œæ•´ (25åˆ†) + å®‰å…¨æ£€æŸ¥ (15åˆ†) + æµ‹è¯•é€šè¿‡ (10åˆ†) |

**æ€»åˆ†**ï¼š100 åˆ†  
**åŠæ ¼çº¿**ï¼š70 åˆ†  
**ä¼˜ç§€çº¿**ï¼š85 åˆ†

---

## ğŸ’¡ å­¦ä¹ å»ºè®®

### æŒ‰é¡ºåºå®Œæˆ

1. âœ… **å…ˆå®Œæˆç¯å¢ƒæ­å»º**ï¼ˆéå¸¸é‡è¦ï¼ï¼‰
2. âœ… **ä»»åŠ¡ 1**ï¼šç†Ÿæ‚‰åŸºæœ¬è¯­æ³•å’Œé¡¹ç›®ç»“æ„
3. âœ… **ä»»åŠ¡ 2**ï¼šç†è§£å…¨å±€å­˜å‚¨å’Œèµ„æºç®¡ç†
4. âœ… **ä»»åŠ¡ 3**ï¼šç»¼åˆè¿ç”¨æ‰€å­¦çŸ¥è¯†

### å¸¸è§é—®é¢˜

âŒ **é—®é¢˜ 1**ï¼šç¼–è¯‘å¤±è´¥ - "unbound module"
```
è§£å†³ï¼šæ£€æŸ¥ Move.toml ä¸­çš„åœ°å€é…ç½®
[addresses]
my_addr = "_"  # æˆ–å…·ä½“åœ°å€
```

âŒ **é—®é¢˜ 2**ï¼šæµ‹è¯•å¤±è´¥ - "RESOURCE_ALREADY_EXISTS"
```
è§£å†³ï¼šæ¯ä¸ªæµ‹è¯•ä½¿ç”¨ä¸åŒçš„åœ°å€
#[test(account = @0x1)]  // ä½¿ç”¨ä¸åŒçš„åœ°å€
```

âŒ **é—®é¢˜ 3**ï¼šç¼ºå°‘ `acquires` å£°æ˜
```move
// é”™è¯¯
public fun get_value(addr: address): u64 {
    borrow_global<Counter>(addr).value
}

// æ­£ç¡®
public fun get_value(addr: address): u64 acquires Counter {
    borrow_global<Counter>(addr).value
}
```

âŒ **é—®é¢˜ 4**ï¼šMove.toml é…ç½®é”™è¯¯
```toml
# æ­£ç¡®çš„ Move.toml
[package]
name = "day01_practice"
version = "1.0.0"

[addresses]
my_addr = "_"

[dependencies.AptosFramework]
git = "https://github.com/aptos-labs/aptos-core.git"
rev = "mainnet"
subdir = "aptos-move/framework/aptos-framework"
```

---

## ğŸ¯ å®Œæˆæ ‡å‡†

- [ ] ç¯å¢ƒæ­å»ºå®Œæˆå¹¶éªŒè¯
- [ ] ä»»åŠ¡ 1 ä»£ç ç¼–å†™å®Œæˆ
- [ ] ä»»åŠ¡ 2 ä»£ç ç¼–å†™å®Œæˆ
- [ ] ä»»åŠ¡ 3 ä»£ç ç¼–å†™å®Œæˆ
- [ ] æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡
- [ ] ä»£ç ç¬¦åˆ Move ç¼–ç è§„èŒƒ

**é¢„è®¡å®Œæˆæ—¶é—´**ï¼š
- ç¯å¢ƒæ­å»ºï¼š30 åˆ†é’Ÿ
- ç¼–ç¨‹ä»»åŠ¡ï¼š2-3 å°æ—¶

---

## ğŸš€ è¿›é˜¶æŒ‘æˆ˜ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æå‰å®Œæˆäº†æ‰€æœ‰ä»»åŠ¡ï¼Œå¯ä»¥å°è¯•ï¼š

1. **éƒ¨ç½²åˆ°æµ‹è¯•ç½‘**
```bash
aptos move publish --named-addresses my_addr=ä½ çš„åœ°å€
```

2. **è°ƒç”¨å·²éƒ¨ç½²çš„å‡½æ•°**
```bash
aptos move run --function-id ä½ çš„åœ°å€::counter::create_counter
```

3. **æ·»åŠ æ›´å¤šåŠŸèƒ½**
   - ä¸ºè®¡æ•°å™¨æ·»åŠ å†å²è®°å½•
   - ä¸ºä¸ªäººèµ„æ–™æ·»åŠ ç¤¾äº¤é“¾æ¥
   - å®ç°èµ„æ–™çš„åˆ é™¤åŠŸèƒ½

---

åŠ æ²¹ï¼å®Œæˆè¿™äº›ä»»åŠ¡åï¼Œä½ å°†æŒæ¡ Move å¼€å‘çš„åŸºç¡€æµç¨‹ï¼ğŸ‰
