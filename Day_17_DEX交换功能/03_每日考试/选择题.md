# Day 17 每日考试 - 选择题

**考试时间**：30 分钟  
**题目数量**：20 题  
**每题分值**：2 分  
**总分**：40 分  
**及格分数**：28 分（70%）

---

## 📝 答题说明

1. 每题只有一个正确答案
2. 请在答题纸上写下题号和答案（A/B/C/D）
3. 完成后对照答案解析自行评分
4. 不要在做题时查看答案

---

## 第一部分：基础概念（1-8题）

### 1. 在 AMM DEX 中，Exact Input Swap 是指什么？

A. 用户指定想要获得的输出数量，系统计算所需输入  
B. 用户指定想要支付的输入数量，系统计算输出数量  
C. 用户同时指定输入和输出数量  
D. 系统自动确定最优的输入输出比例

<details>
<summary>提示</summary>
Exact Input 的"Exact"指的是哪个数量是确定的？
</details>

---

### 2. 下列关于手续费的说法，哪个是错误的？

A. 手续费从输入代币中扣除，不影响输出代币  
B. 手续费会增加流动性池的 K 值  
C. 手续费由流动性提供者（LP）获得  
D. 手续费从输出代币中扣除后发送给用户

<details>
<summary>提示</summary>
手续费是从哪个环节扣除的？
</details>

---

### 3. Uniswap V2 的标准手续费率是多少？

A. 0.1%  
B. 0.3%  
C. 0.5%  
D. 1%

---

### 4. 在带手续费的 Swap 中，如果手续费率是 0.3%，输入 1000 个代币，实际用于交换的数量是？

A. 1000  
B. 997  
C. 999.7  
D. 970

<details>
<summary>提示</summary>
计算公式：amount_in * (1 - 0.003) = amount_in * 0.997
</details>

---

### 5. 什么是滑点（Slippage）？

A. 代币在转账过程中的损失  
B. 预期价格与实际执行价格之间的差异  
C. 流动性池的手续费  
D. Gas 费用的波动

---

### 6. 下列哪种情况会导致更大的价格滑点？

A. 流动性池储备量很大，交易量很小  
B. 流动性池储备量很小，交易量很大  
C. 手续费率很高  
D. 手续费率很低

<details>
<summary>提示</summary>
滑点与交易量占储备的比例有关。
</details>

---

### 7. 在 Exact Output Swap 中，min_amount_out 参数的作用是什么？

A. 这个参数不适用于 Exact Output  
B. 保护用户不支付过多输入代币  
C. 限制最小输出数量  
D. 设置手续费上限

<details>
<summary>提示</summary>
Exact Output 已经指定了输出，需要保护的是什么？
</details>

---

### 8. K 值（恒定乘积）在有手续费的 Swap 后会如何变化？

A. 保持完全不变  
B. 略微减少  
C. 略微增加  
D. 大幅增加

---

## 第二部分：计算题（9-14题）

### 9. 池子状态：1,000,000 USDC / 50,000 APT，用户输入 10,000 USDC（无手续费），能得到多少 APT？

A. 约 500 APT  
B. 约 495.05 APT  
C. 约 490 APT  
D. 约 505 APT

<details>
<summary>提示</summary>
使用公式：amount_out = (reserve_out * amount_in) / (reserve_in + amount_in)
</details>

---

### 10. 在上题基础上，如果考虑 0.3% 手续费，实际输出是多少？

A. 约 495.05 APT  
B. 约 493.58 APT  
C. 约 491.5 APT  
D. 约 497 APT

<details>
<summary>提示</summary>
先扣除手续费：10,000 * 0.997 = 9,970，然后用 9,970 计算输出
</details>

---

### 11. 承第 9 题，交易后的价格滑点约是多少？

A. 1%  
B. 2%  
C. 5%  
D. 10%

<details>
<summary>提示</summary>
初始价格 20 USDC/APT，新价格约 20.40 USDC/APT
</details>

---

### 12. 如果用户设置滑点容忍度为 1%，预期输出 100 APT，min_amount_out 应该设置为？

A. 100 APT  
B. 99 APT  
C. 101 APT  
D. 98 APT

<details>
<summary>提示</summary>
滑点容忍 1% 意味着最少接受 100 * (1 - 0.01) = ?
</details>

---

### 13. 多跳交换 USDC → APT → TokenA，每跳手续费 0.3%，总手续费是多少？

A. 0.3%  
B. 0.6%  
C. 约 0.6009%  
D. 0.9%

<details>
<summary>提示</summary>
两次手续费会复合：(1 - 0.003) * (1 - 0.003) = 0.994009
总手续费 = 1 - 0.994009 = 0.005991 ≈ 0.6%
</details>

---

### 14. K 值从 50,000,000,000 增长到 50,001,500,000，增长率是多少？

A. 0.003%  
B. 0.03%  
C. 0.3%  
D. 3%

<details>
<summary>提示</summary>
增长率 = (新值 - 旧值) / 旧值 * 100%
</details>

---

## 第三部分：高级应用（15-20题）

### 15. 什么是三明治攻击（Sandwich Attack）？

A. MEV 机器人在用户交易前后分别执行买入和卖出，获取利润  
B. 同时在三个池子进行套利  
C. 将大额交易拆分成三笔执行  
D. 使用三个账户同时交易

---

### 16. 下列哪种方法不能有效防止三明治攻击？

A. 设置合理的滑点容忍度  
B. 使用私有交易池  
C. 增加手续费率  
D. 使用 Commit-Reveal 方案

<details>
<summary>提示</summary>
哪个方法不能阻止攻击者看到或插入交易？
</details>

---

### 17. 在实现 Swap 时，为什么要使用 u128 进行中间计算？

A. u128 计算速度更快  
B. 防止两个 u64 相乘溢出  
C. Move 语言要求  
D. 为了兼容其他链

---

### 18. 路由选择时，下列哪个因素最不重要？

A. 价格影响（滑点）  
B. 流动性深度  
C. 累积手续费  
D. 代币名称的字母顺序

---

### 19. 下列关于 K 值验证的说法，哪个是正确的？

A. 必须确保 K 值完全不变  
B. 应该允许 K 值略微增加（因为手续费）  
C. K 值可以减少，只要不超过 1%  
D. 不需要验证 K 值

---

### 20. 在 Exact Output Swap 的实现中，为什么计算所需输入时要 +1？

```move
let amount_in = numerator / denominator + 1;
```

A. 这是一个 bug  
B. 确保有足够的输入，避免因精度损失导致输出不足  
C. 用于支付 Gas 费  
D. 这是额外的手续费

<details>
<summary>提示</summary>
整数除法会向下取整，可能导致什么问题？
</details>

---

## 📊 评分标准

- **36-40 分（90%+）**：优秀！你已经深入理解了 DEX Swap 机制
- **32-35 分（80-89%）**：良好，继续加强细节理解
- **28-31 分（70-79%）**：及格，建议复习薄弱环节
- **28 分以下（<70%）**：需要重新学习今天的理论

---

## ✅ 答题卡

```
1.  [   ]    6.  [   ]    11. [   ]    16. [   ]
2.  [   ]    7.  [   ]    12. [   ]    17. [   ]
3.  [   ]    8.  [   ]    13. [   ]    18. [   ]
4.  [   ]    9.  [   ]    14. [   ]    19. [   ]
5.  [   ]    10. [   ]    15. [   ]    20. [   ]

总分：______ / 40
```

---

**完成后请查看 `答案解析.md` 进行对照和学习！**

**注意**：理解每道题背后的原理比记住答案更重要。
