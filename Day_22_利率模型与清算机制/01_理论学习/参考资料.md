# 参考资料

## 📚 官方文档

### Aave 文档
- [Aave V3 文档](https://docs.aave.com/developers/v/2.0/)
- [利率模型详解](https://docs.aave.com/risk/liquidity-risk/borrow-interest-rate)
- [清算机制](https://docs.aave.com/faq/liquidations)
- [风险参数](https://docs.aave.com/risk/asset-risk/methodology)

### Compound 文档
- [Compound 协议文档](https://compound.finance/docs)
- [利率模型](https://compound.finance/docs/interest-rates)
- [清算说明](https://compound.finance/docs/comptroller#liquidate-borrow)
- [治理提案](https://compound.finance/governance/proposals)

### Euler Finance
- [Euler 文档](https://docs.euler.finance/)
- [利率模型方法论](https://docs.euler.finance/getting-started/methodology/interest-rates)
- [清算流程](https://docs.euler.finance/getting-started/methodology/liquidations)

---

## 🔬 学术论文

### 利率模型相关
1. **"An Analysis of Uniswap Markets"** (2020)
   - 作者: Guillermo Angeris, Hsien-Tang Kao, Rei Chiang, Charlie Noyes, Tarun Chitra
   - 链接: https://arxiv.org/abs/1911.03380

2. **"DeFi Protocols for Loanable Funds"** (2020)
   - 作者: Lewis Gudgeon, Sam Werner, Daniel Perez, William J. Knottenbelt
   - 链接: https://arxiv.org/abs/2006.13922

### 清算机制相关
3. **"Liquidations: DeFi on a Knife-edge"** (2020)
   - 作者: Daniel Perez, Sam M. Werner, Jiahua Xu, Benjamin Livshits
   - 链接: https://arxiv.org/abs/2009.13235

4. **"DeFi Liquidations: Pitfalls and Opportunities"** (2022)
   - 作者: Kaihua Qin, Liyi Zhou, Arthur Gervais
   - 链接: https://arxiv.org/abs/2212.07306

---

## 📊 数据分析平台

### DeFi 数据聚合
- [DeFi Llama](https://defillama.com/) - TVL 和协议数据
- [DeFi Pulse](https://www.defipulse.com/) - DeFi 排名
- [Token Terminal](https://tokenterminal.com/) - 协议收入数据

### 清算监控
- [DeFi Explore](https://defiexplore.com/) - 清算数据
- [Liquidations Dashboard](https://explore.duneanalytics.com/) - Dune Analytics 清算面板

### 利率追踪
- [DeFi Rate](https://defirate.com/) - 实时利率比较
- [LoanScan](https://loanscan.io/) - 借贷协议利率

---

## 🛠️ 开发工具

### 测试框架
- [Aptos Move Prover](https://aptos.dev/guides/move-guides/prover/) - 形式化验证
- [Move Playground](https://playground.move-language.dev/) - 在线测试

### 价格预言机
- [Pyth Network](https://pyth.network/) - 高频价格数据
- [Chainlink](https://chain.link/) - 去中心化预言机
- [Switchboard](https://switchboard.xyz/) - Aptos 预言机

---

## 📖 推荐阅读

### 博客文章

1. **Gauntlet - Interest Rate Models**
   - https://gauntlet.network/resources/interest-rate-models
   - 深度分析各种利率模型

2. **Chaos Labs - Liquidation Design**
   - https://chaoslabs.xyz/posts/liquidation-design
   - 清算机制设计指南

3. **Messari - Lending Protocol Comparison**
   - https://messari.io/
   - 主流借贷协议对比

### 视频教程

1. **Finematics - How do LIQUIDITY POOLS work?**
   - https://www.youtube.com/c/Finematics
   - 流动性池和 AMM 原理

2. **Whiteboard Crypto - DeFi Lending Explained**
   - https://www.youtube.com/c/WhiteboardCrypto
   - DeFi 借贷详解

---

## 🔍 案例研究

### 历史事件

#### 1. 312 暴跌（2020年3月12日）
**背景**:
- ETH 从 $200 跌至 $100（24小时）
- MakerDAO 经历严重清算危机

**学习点**:
- 极端市场条件下的协议表现
- Gas 竞价和清算积压问题
- 预言机延迟的影响

**参考**:
- [MakerDAO Post-Mortem](https://blog.makerdao.com/the-market-collapse-of-march-12-2020-how-it-impacted-makerdao/)

#### 2. Compound 清算瀑布（2020年11月）
**背景**:
- DAI 价格异常波动
- 大量清算同时触发

**学习点**:
- 价格操纵风险
- 清算保护机制的重要性
- Close Factor 的作用

**参考**:
- [Compound Governance Discussion](https://www.comp.xyz/t/dai-liquidation-event-on-november-26th/1271)

#### 3. Aave V2 → V3 升级
**背景**:
- 改进利率模型
- 优化清算机制
- 引入隔离模式

**学习点**:
- 协议迭代和改进
- 新功能设计思路
- 向后兼容性

**参考**:
- [Aave V3 Whitepaper](https://github.com/aave/aave-v3-core/blob/master/techpaper/Aave_V3_Technical_Paper.pdf)

---

## 💼 实战资源

### 开源代码

#### Compound V2
```
Repository: https://github.com/compound-finance/compound-protocol
关键文件:
- BaseJumpRateModelV2.sol - 跳跃利率模型
- Comptroller.sol - 清算逻辑
```

#### Aave V3
```
Repository: https://github.com/aave/aave-v3-core
关键文件:
- DefaultReserveInterestRateStrategy.sol - 利率策略
- LiquidationLogic.sol - 清算逻辑
```

#### Euler Finance
```
Repository: https://github.com/euler-xyz/euler-contracts
关键文件:
- IRiskManager.sol - 风险管理
- Liquidation.sol - 清算实现
```

### 测试数据集

#### 历史价格数据
- [CoinGecko API](https://www.coingecko.com/en/api) - 免费价格 API
- [CryptoCompare](https://www.cryptocompare.com/) - 历史数据

#### 模拟场景
```python
# 示例：生成测试场景
import numpy as np

def generate_price_crash_scenario():
    """模拟价格暴跌场景"""
    prices = []
    base_price = 2000  # ETH starting price
    
    for hour in range(24):
        # 随机暴跌 30-50%
        crash_factor = np.random.uniform(0.5, 0.7)
        price = base_price * crash_factor ** (hour / 24)
        prices.append(price)
    
    return prices
```

---

## 🎯 实践项目

### 项目 1: 利率模型模拟器
**目标**: 实现一个可视化的利率模型模拟器

**功能**:
- 支持线性和跳跃模型
- 实时调整参数
- 绘制利率曲线
- 计算 APR/APY

**技术栈**:
- Frontend: React + Chart.js
- Backend: Python + FastAPI
- Simulation: NumPy

### 项目 2: 清算机器人
**目标**: 开发一个自动清算机器人

**功能**:
- 监控健康因子
- 自动触发清算
- 利润计算
- Gas 优化

**技术栈**:
- Move: 智能合约交互
- TypeScript: 机器人逻辑
- WebSocket: 实时数据

### 项目 3: 风险仪表板
**目标**: 构建协议风险监控仪表板

**功能**:
- 实时健康因子监控
- 清算预警
- 利率追踪
- 压力测试

**技术栈**:
- Frontend: Next.js
- Data: GraphQL (Aptos Indexer)
- Visualization: D3.js

---

## 📈 进阶主题

### 1. 自适应利率模型
**概念**: 根据市场条件动态调整利率参数

**学习资源**:
- [Morpho - Adaptive Interest Rates](https://morpho.xyz/)
- [Notional Finance - Fixed Rate Lending](https://www.notional.finance/)

### 2. 荷兰式拍卖清算
**概念**: 清算奖励随时间递增，避免抢跑

**学习资源**:
- [MakerDAO Dutch Auction](https://docs.makerdao.com/smart-contract-modules/dog-and-clipper-detailed-documentation)
- [Liquity Stability Pool](https://docs.liquity.org/faq/stability-pool-and-liquidations)

### 3. 跨链借贷
**概念**: 在多个区块链间实现借贷

**学习资源**:
- [Wormhole](https://wormhole.com/) - 跨链桥
- [LayerZero](https://layerzero.network/) - 跨链通信

---

## 🔗 社区资源

### Discord 服务器
- [Aave Discord](https://discord.gg/aave)
- [Compound Discord](https://discord.gg/compound)
- [Aptos Discord](https://discord.gg/aptoslabs)

### 论坛
- [Aave Governance Forum](https://governance.aave.com/)
- [Compound Forum](https://www.comp.xyz/)

### Twitter 关注
- @AaveAave - Aave 官方
- @compoundfinance - Compound 官方
- @gauntletnetwork - Gauntlet 风险平台
- @chaoslabs - Chaos Labs 风险分析

---

## 📝 学习计划建议

### Week 1: 基础理论
- [ ] 阅读 Aave、Compound 文档
- [ ] 理解利率模型数学原理
- [ ] 学习健康因子计算

### Week 2: 代码实践
- [ ] 实现线性利率模型
- [ ] 实现跳跃利率模型
- [ ] 编写单元测试

### Week 3: 清算机制
- [ ] 研究清算流程
- [ ] 实现清算检查
- [ ] 开发简单清算机器人

### Week 4: 高级主题
- [ ] 研究真实清算案例
- [ ] 优化 Gas 成本
- [ ] 压力测试

---

## 🎓 认证和课程

### 免费课程
- [Coursera - DeFi Specialization](https://www.coursera.org/specializations/decentralized-finance-duke)
- [Udemy - DeFi Development](https://www.udemy.com/topic/defi/)

### 付费课程
- [Encode Club - DeFi Bootcamp](https://www.encode.club/)
- [ChainShot - Ethereum Developer Bootcamp](https://www.chainshot.com/)

---

## 💡 小贴士

### 调试技巧
1. 使用详细的日志记录
2. 单元测试覆盖率 > 80%
3. 手动计算验证结果
4. 使用图表可视化数据

### 最佳实践
1. 总是检查边界情况
2. 精度处理要一致
3. 代码注释要清晰
4. 参考主流协议实现

### 避免的陷阱
1. 忽视精度丢失
2. 不考虑 Gas 成本
3. 过度优化（牺牲可读性）
4. 缺乏异常处理

---

**持续学习，不断进步！** 🚀
