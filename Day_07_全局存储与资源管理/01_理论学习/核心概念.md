# å…¨å±€å­˜å‚¨ä¸èµ„æºç®¡ç†æ ¸å¿ƒæ¦‚å¿µ

## ç¬¬ä¸€éƒ¨åˆ†ï¼šå…¨å±€å­˜å‚¨æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯å…¨å±€å­˜å‚¨ï¼Ÿ

Move çš„å…¨å±€å­˜å‚¨æ˜¯ä¸€ä¸ª**è´¦æˆ·åœ°å€åˆ°èµ„æºçš„æ˜ å°„**ï¼Œç±»ä¼¼äºä¸€ä¸ªåˆ†å¸ƒå¼çš„é”®å€¼æ•°æ®åº“ã€‚

**ç±»æ¯”ï¼šå…¬å¯“æ¥¼æ¨¡å‹**
- æ¯ä¸ªåœ°å€ï¼ˆaddressï¼‰= ä¸€ä¸ªå…¬å¯“æˆ¿é—´
- æ¯ç§èµ„æºç±»å‹ = ä¸€ç§å®¶å…·ç±»å‹
- æ¯ä¸ªæˆ¿é—´å¯ä»¥å­˜æ”¾å¤šç§ä¸åŒç±»å‹çš„å®¶å…·ï¼Œä½†æ¯ç§ç±»å‹åªèƒ½æœ‰ä¸€ä¸ª

```
åœ°å€ 0x1:
  â”œâ”€ UserProfile (ç”¨æˆ·èµ„æ–™)
  â”œâ”€ CoinStore<AptosCoin> (APT ä»£å¸)
  â””â”€ CoinStore<USDC> (USDC ä»£å¸)

åœ°å€ 0x2:
  â”œâ”€ UserProfile (ç”¨æˆ·èµ„æ–™)
  â””â”€ NFTCollection (NFT é›†åˆ)
```

### 1.2 å…¨å±€å­˜å‚¨çš„ç‰¹ç‚¹

1. **ç±»å‹éš”ç¦»**ï¼šæ¯ä¸ªåœ°å€ä¸‹ï¼ŒåŒä¸€ç±»å‹çš„èµ„æºåªèƒ½æœ‰ä¸€ä¸ª
2. **æ‰€æœ‰æƒæ˜ç¡®**ï¼šèµ„æºå­˜å‚¨åœ¨ç‰¹å®šåœ°å€ä¸‹ï¼Œå½’å±æ¸…æ™°
3. **ç±»å‹å®‰å…¨**ï¼šç¼–è¯‘æœŸæ£€æŸ¥ï¼Œè¿è¡Œæ—¶é«˜æ•ˆ
4. **æŒä¹…åŒ–**ï¼šèµ„æºæ°¸ä¹…å­˜å‚¨åœ¨é“¾ä¸Š

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šå…¨å±€å­˜å‚¨æ“ä½œ

### 2.1 æ ¸å¿ƒæ“ä½œæ¦‚è§ˆ

Move æä¾›å››ä¸ªæ ¸å¿ƒæ“ä½œæ¥ç®¡ç†å…¨å±€å­˜å‚¨ï¼š

| æ“ä½œ | åŠŸèƒ½ | ç±»æ¯” |
|------|------|------|
| `move_to<T>` | å°†èµ„æºç§»åŠ¨åˆ°åœ°å€ | æ¬å®¶å…·è¿›æˆ¿é—´ |
| `move_from<T>` | ä»åœ°å€ç§»é™¤èµ„æº | æ¬å®¶å…·å‡ºæˆ¿é—´ |
| `borrow_global<T>` | ä¸å¯å˜å€Ÿç”¨ | çœ‹å®¶å…·ä½†ä¸èƒ½åŠ¨ |
| `borrow_global_mut<T>` | å¯å˜å€Ÿç”¨ | å¯ä»¥ä½¿ç”¨å’Œä¿®æ”¹å®¶å…· |

### 2.2 move_to - å­˜å‚¨èµ„æº

**è¯­æ³•**ï¼š
```move
move_to<T: key>(account: &signer, value: T)
```

**åŠŸèƒ½**ï¼šå°†èµ„æºå­˜å‚¨åˆ°ç­¾åè€…çš„åœ°å€ä¸‹

**ç¤ºä¾‹**ï¼š
```move
module my_addr::user_profile {
    struct UserProfile has key {
        name: vector<u8>,
        age: u8
    }
    
    public fun create_profile(account: &signer, name: vector<u8>, age: u8) {
        let profile = UserProfile { name, age };
        move_to(account, profile);
    }
}
```

**é‡è¦è§„åˆ™**ï¼š
1. èµ„æºç±»å‹å¿…é¡»æœ‰ `key` èƒ½åŠ›
2. åŒä¸€åœ°å€ä¸‹ï¼ŒåŒä¸€ç±»å‹çš„èµ„æºåªèƒ½ `move_to` ä¸€æ¬¡
3. é‡å¤è°ƒç”¨ä¼šå¯¼è‡´ `RESOURCE_ALREADY_EXISTS` é”™è¯¯

**é”™è¯¯ç¤ºä¾‹**ï¼š
```move
public fun create_twice(account: &signer) {
    let profile1 = UserProfile { name: b"Alice", age: 25 };
    move_to(account, profile1);  // âœ… æˆåŠŸ
    
    let profile2 = UserProfile { name: b"Bob", age: 30 };
    move_to(account, profile2);  // âŒ é”™è¯¯ï¼šRESOURCE_ALREADY_EXISTS
}
```

### 2.3 borrow_global - ä¸å¯å˜å€Ÿç”¨

**è¯­æ³•**ï¼š
```move
borrow_global<T: key>(addr: address): &T
```

**åŠŸèƒ½**ï¼šè·å–æŒ‡å®šåœ°å€ä¸‹èµ„æºçš„ä¸å¯å˜å¼•ç”¨

**ç¤ºä¾‹**ï¼š
```move
public fun get_name(addr: address): vector<u8> acquires UserProfile {
    let profile = borrow_global<UserProfile>(addr);
    profile.name
}

public fun get_age(addr: address): u8 acquires UserProfile {
    borrow_global<UserProfile>(addr).age
}
```

**é‡è¦è§„åˆ™**ï¼š
1. å¿…é¡»åœ¨å‡½æ•°ç­¾åä¸­å£°æ˜ `acquires UserProfile`
2. å¦‚æœèµ„æºä¸å­˜åœ¨ï¼Œä¼šå¯¼è‡´ `RESOURCE_NOT_FOUND` é”™è¯¯
3. è¿”å›çš„å¼•ç”¨åœ¨å½“å‰ä½œç”¨åŸŸæœ‰æ•ˆ

**å®‰å…¨æ£€æŸ¥ç¤ºä¾‹**ï¼š
```move
public fun safe_get_name(addr: address): Option<vector<u8>> acquires UserProfile {
    if (!exists<UserProfile>(addr)) {
        return option::none()
    };
    let profile = borrow_global<UserProfile>(addr);
    option::some(profile.name)
}
```

### 2.4 borrow_global_mut - å¯å˜å€Ÿç”¨

**è¯­æ³•**ï¼š
```move
borrow_global_mut<T: key>(addr: address): &mut T
```

**åŠŸèƒ½**ï¼šè·å–æŒ‡å®šåœ°å€ä¸‹èµ„æºçš„å¯å˜å¼•ç”¨

**ç¤ºä¾‹**ï¼š
```move
public fun update_age(account: &signer, new_age: u8) acquires UserProfile {
    let addr = signer::address_of(account);
    let profile = borrow_global_mut<UserProfile>(addr);
    profile.age = new_age;
}

public fun increment_age(account: &signer) acquires UserProfile {
    let profile = borrow_global_mut<UserProfile>(signer::address_of(account));
    profile.age = profile.age + 1;
}
```

**é‡è¦è§„åˆ™**ï¼š
1. åŒæ ·éœ€è¦ `acquires` å£°æ˜
2. é€šå¸¸éœ€è¦æƒé™æ£€æŸ¥ï¼ˆç¡®ä¿æ˜¯èµ„æºæ‰€æœ‰è€…ï¼‰
3. ä¸èƒ½åŒæ—¶æœ‰å¤šä¸ªå¯å˜å€Ÿç”¨æˆ–ä¸ä¸å¯å˜å€Ÿç”¨å…±å­˜

### 2.5 move_from - ç§»é™¤èµ„æº

**è¯­æ³•**ï¼š
```move
move_from<T: key>(addr: address): T
```

**åŠŸèƒ½**ï¼šä»åœ°å€ä¸­ç§»é™¤èµ„æºå¹¶è¿”å›

**ç¤ºä¾‹**ï¼š
```move
public fun delete_profile(account: &signer) acquires UserProfile {
    let addr = signer::address_of(account);
    let UserProfile { name: _, age: _ } = move_from<UserProfile>(addr);
    // èµ„æºè¢«è§£æ„å¹¶é”€æ¯
}

public fun transfer_profile(from: &signer, to: address) acquires UserProfile {
    let addr = signer::address_of(from);
    let profile = move_from<UserProfile>(addr);
    // æ³¨æ„ï¼šè¿™é‡Œéœ€è¦ to åœ°å€å¯¹åº”çš„ signer æ‰èƒ½ move_to
    // å®é™…åœºæ™¯ä¸­éœ€è¦ä¸åŒçš„è®¾è®¡æ¨¡å¼
}
```

**é‡è¦è§„åˆ™**ï¼š
1. å¿…é¡»æœ‰ `acquires` å£°æ˜
2. èµ„æºè¢«ç§»é™¤åï¼Œè¯¥åœ°å€ä¸‹ä¸å†æœ‰æ­¤ç±»å‹çš„èµ„æº
3. è¿”å›çš„èµ„æºå¿…é¡»è¢«å¤„ç†ï¼ˆå­˜å‚¨ã€é”€æ¯æˆ–è½¬ç§»ï¼‰

### 2.6 exists - æ£€æŸ¥èµ„æºæ˜¯å¦å­˜åœ¨

**è¯­æ³•**ï¼š
```move
exists<T: key>(addr: address): bool
```

**åŠŸèƒ½**ï¼šæ£€æŸ¥æŒ‡å®šåœ°å€æ˜¯å¦æœ‰æŸç±»å‹çš„èµ„æº

**ç¤ºä¾‹**ï¼š
```move
public fun has_profile(addr: address): bool {
    exists<UserProfile>(addr)
}

public fun ensure_profile_exists(addr: address) {
    assert!(exists<UserProfile>(addr), ERROR_PROFILE_NOT_FOUND);
}
```

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šacquires å…³é”®å­—

### 3.1 ä¸ºä»€ä¹ˆéœ€è¦ acquiresï¼Ÿ

`acquires` æ˜¯ Move çš„**é™æ€åˆ†æå·¥å…·**ï¼Œç”¨äºï¼š
1. åœ¨ç¼–è¯‘æœŸæ£€æµ‹èµ„æºè®¿é—®
2. é˜²æ­¢å¾ªç¯ä¾èµ–
3. ç¡®ä¿èµ„æºè®¿é—®çš„å®‰å…¨æ€§

**ç±»æ¯”**ï¼šå°±åƒå‡½æ•°ç­¾åä¸­çš„ `throws` å£°æ˜ï¼Œå‘Šè¯‰è°ƒç”¨è€…è¿™ä¸ªå‡½æ•°ä¼šè®¿é—®å“ªäº›èµ„æºã€‚

### 3.2 acquires ä½¿ç”¨è§„åˆ™

**è§„åˆ™ 1**ï¼šè®¿é—®å…¨å±€èµ„æºå¿…é¡»å£°æ˜

```move
// âœ… æ­£ç¡®
public fun get_age(addr: address): u8 acquires UserProfile {
    borrow_global<UserProfile>(addr).age
}

// âŒ é”™è¯¯ï¼šç¼ºå°‘ acquires
public fun get_age(addr: address): u8 {
    borrow_global<UserProfile>(addr).age  // ç¼–è¯‘é”™è¯¯
}
```

**è§„åˆ™ 2**ï¼šå£°æ˜æ‰€æœ‰è®¿é—®çš„èµ„æº

```move
struct UserProfile has key { name: vector<u8> }
struct Wallet has key { balance: u64 }

// âœ… æ­£ç¡®ï¼šå£°æ˜ä¸¤ä¸ªèµ„æº
public fun get_info(addr: address): (vector<u8>, u64) 
    acquires UserProfile, Wallet 
{
    let name = borrow_global<UserProfile>(addr).name;
    let balance = borrow_global<Wallet>(addr).balance;
    (name, balance)
}
```

**è§„åˆ™ 3**ï¼šä¼ é€’æ€§

```move
public fun helper(addr: address): u8 acquires UserProfile {
    borrow_global<UserProfile>(addr).age
}

// âœ… æ­£ç¡®ï¼šè°ƒç”¨ helperï¼Œéœ€è¦å£°æ˜ UserProfile
public fun caller(addr: address): u8 acquires UserProfile {
    helper(addr)
}

// âŒ é”™è¯¯ï¼šç¼ºå°‘ acquires
public fun caller_wrong(addr: address): u8 {
    helper(addr)  // ç¼–è¯‘é”™è¯¯
}
```

### 3.3 acquires ä¸éœ€è¦çš„æƒ…å†µ

ä»¥ä¸‹æƒ…å†µ**ä¸éœ€è¦** `acquires`ï¼š

1. ä¸è®¿é—®å…¨å±€èµ„æº
```move
public fun add(a: u64, b: u64): u64 {
    a + b
}
```

2. åªä½¿ç”¨ `exists` æ£€æŸ¥
```move
public fun has_profile(addr: address): bool {
    exists<UserProfile>(addr)  // ä¸éœ€è¦ acquires
}
```

3. åªä½¿ç”¨ `move_to`ï¼ˆä¸è¯»å–ç°æœ‰èµ„æºï¼‰
```move
public fun create(account: &signer) {
    move_to(account, UserProfile { name: b"", age: 0 });
}
```

---

## ç¬¬å››éƒ¨åˆ†ï¼šèµ„æºç”Ÿå‘½å‘¨æœŸç®¡ç†

### 4.1 èµ„æºç”Ÿå‘½å‘¨æœŸ

```
åˆ›å»º â†’ å­˜å‚¨ â†’ è®¿é—®/ä¿®æ”¹ â†’ ç§»é™¤ â†’ é”€æ¯
  â†“      â†“        â†“           â†“       â†“
new   move_to  borrow    move_from  drop
```

### 4.2 å®Œæ•´ç¤ºä¾‹ï¼šä»£å¸è´¦æˆ·ç®¡ç†

```move
module my_addr::coin_account {
    use std::signer;
    
    /// ä»£å¸è´¦æˆ·èµ„æº
    struct CoinAccount has key {
        balance: u64
    }
    
    /// é”™è¯¯ç 
    const ERROR_ACCOUNT_EXISTS: u64 = 1;
    const ERROR_ACCOUNT_NOT_FOUND: u64 = 2;
    const ERROR_INSUFFICIENT_BALANCE: u64 = 3;
    
    /// 1. åˆ›å»ºè´¦æˆ·ï¼ˆç”Ÿå‘½å‘¨æœŸï¼šåˆ›å»º + å­˜å‚¨ï¼‰
    public fun create_account(account: &signer) {
        let addr = signer::address_of(account);
        assert!(!exists<CoinAccount>(addr), ERROR_ACCOUNT_EXISTS);
        
        move_to(account, CoinAccount { balance: 0 });
    }
    
    /// 2. æŸ¥è¯¢ä½™é¢ï¼ˆç”Ÿå‘½å‘¨æœŸï¼šè®¿é—®ï¼‰
    public fun balance(addr: address): u64 acquires CoinAccount {
        assert!(exists<CoinAccount>(addr), ERROR_ACCOUNT_NOT_FOUND);
        borrow_global<CoinAccount>(addr).balance
    }
    
    /// 3. å­˜æ¬¾ï¼ˆç”Ÿå‘½å‘¨æœŸï¼šä¿®æ”¹ï¼‰
    public fun deposit(account: &signer, amount: u64) acquires CoinAccount {
        let addr = signer::address_of(account);
        let account_ref = borrow_global_mut<CoinAccount>(addr);
        account_ref.balance = account_ref.balance + amount;
    }
    
    /// 4. å–æ¬¾ï¼ˆç”Ÿå‘½å‘¨æœŸï¼šä¿®æ”¹ï¼‰
    public fun withdraw(account: &signer, amount: u64) acquires CoinAccount {
        let addr = signer::address_of(account);
        let account_ref = borrow_global_mut<CoinAccount>(addr);
        assert!(account_ref.balance >= amount, ERROR_INSUFFICIENT_BALANCE);
        account_ref.balance = account_ref.balance - amount;
    }
    
    /// 5. è½¬è´¦ï¼ˆç”Ÿå‘½å‘¨æœŸï¼šä¿®æ”¹å¤šä¸ªèµ„æºï¼‰
    public fun transfer(
        from: &signer, 
        to: address, 
        amount: u64
    ) acquires CoinAccount {
        let from_addr = signer::address_of(from);
        
        // æ‰£é™¤å‘é€æ–¹ä½™é¢
        {
            let from_account = borrow_global_mut<CoinAccount>(from_addr);
            assert!(from_account.balance >= amount, ERROR_INSUFFICIENT_BALANCE);
            from_account.balance = from_account.balance - amount;
        };
        
        // å¢åŠ æ¥æ”¶æ–¹ä½™é¢
        {
            let to_account = borrow_global_mut<CoinAccount>(to);
            to_account.balance = to_account.balance + amount;
        };
    }
    
    /// 6. å…³é—­è´¦æˆ·ï¼ˆç”Ÿå‘½å‘¨æœŸï¼šç§»é™¤ + é”€æ¯ï¼‰
    public fun close_account(account: &signer) acquires CoinAccount {
        let addr = signer::address_of(account);
        let CoinAccount { balance } = move_from<CoinAccount>(addr);
        assert!(balance == 0, ERROR_INSUFFICIENT_BALANCE);
    }
}
```

### 4.3 èµ„æºç®¡ç†æ¨¡å¼

#### æ¨¡å¼ 1ï¼šæ‡’åŠ è½½ï¼ˆLazy Initializationï¼‰

```move
public fun get_or_create(account: &signer): &mut UserProfile acquires UserProfile {
    let addr = signer::address_of(account);
    
    if (!exists<UserProfile>(addr)) {
        move_to(account, UserProfile { name: b"", age: 0 });
    };
    
    borrow_global_mut<UserProfile>(addr)
}
```

#### æ¨¡å¼ 2ï¼šèµ„æºæ³¨å†Œè¡¨ï¼ˆResource Registryï¼‰

```move
struct Registry has key {
    items: Table<address, Item>
}

public fun register_item(account: &signer, item: Item) acquires Registry {
    let registry = borrow_global_mut<Registry>(@module_addr);
    table::add(&mut registry.items, signer::address_of(account), item);
}
```

#### æ¨¡å¼ 3ï¼šæƒé™æ§åˆ¶

```move
struct AdminCapability has key {}

public fun initialize_admin(account: &signer) {
    move_to(account, AdminCapability {});
}

public fun admin_only_operation(admin: &signer) acquires AdminCapability {
    let addr = signer::address_of(admin);
    assert!(exists<AdminCapability>(addr), ERROR_NOT_ADMIN);
    // æ‰§è¡Œç®¡ç†å‘˜æ“ä½œ...
}
```

---

## ç¬¬äº”éƒ¨åˆ†ï¼šå¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ

### 5.1 é”™è¯¯ 1ï¼šå¿˜è®° acquires å£°æ˜

```move
// âŒ é”™è¯¯
public fun get_balance(addr: address): u64 {
    borrow_global<CoinAccount>(addr).balance
}

// âœ… æ­£ç¡®
public fun get_balance(addr: address): u64 acquires CoinAccount {
    borrow_global<CoinAccount>(addr).balance
}
```

### 5.2 é”™è¯¯ 2ï¼šé‡å¤ move_to

```move
// âŒ é”™è¯¯
public fun create_twice(account: &signer) {
    move_to(account, UserProfile { name: b"Alice", age: 25 });
    move_to(account, UserProfile { name: b"Bob", age: 30 });  // è¿è¡Œæ—¶é”™è¯¯
}

// âœ… æ­£ç¡®ï¼šå…ˆæ£€æŸ¥
public fun create_safe(account: &signer) {
    let addr = signer::address_of(account);
    assert!(!exists<UserProfile>(addr), ERROR_ALREADY_EXISTS);
    move_to(account, UserProfile { name: b"Alice", age: 25 });
}
```

### 5.3 é”™è¯¯ 3ï¼šè®¿é—®ä¸å­˜åœ¨çš„èµ„æº

```move
// âŒ å±é™©
public fun get_age(addr: address): u8 acquires UserProfile {
    borrow_global<UserProfile>(addr).age  // å¯èƒ½è¿è¡Œæ—¶é”™è¯¯
}

// âœ… å®‰å…¨
public fun get_age_safe(addr: address): u8 acquires UserProfile {
    assert!(exists<UserProfile>(addr), ERROR_NOT_FOUND);
    borrow_global<UserProfile>(addr).age
}
```

### 5.4 é”™è¯¯ 4ï¼šå€Ÿç”¨å†²çª

```move
// âŒ é”™è¯¯ï¼šåŒæ—¶å¯å˜å’Œä¸å¯å˜å€Ÿç”¨
public fun conflict(addr: address) acquires UserProfile {
    let profile_ref = borrow_global<UserProfile>(addr);
    let profile_mut = borrow_global_mut<UserProfile>(addr);  // ç¼–è¯‘é”™è¯¯
}

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ä½œç”¨åŸŸåˆ†ç¦»
public fun no_conflict(addr: address) acquires UserProfile {
    {
        let profile_ref = borrow_global<UserProfile>(addr);
        // ä½¿ç”¨ profile_ref
    };
    {
        let profile_mut = borrow_global_mut<UserProfile>(addr);
        // ä½¿ç”¨ profile_mut
    };
}
```

---

## ç¬¬å…­éƒ¨åˆ†ï¼šé«˜çº§ä¸»é¢˜

### 6.1 æ³›å‹èµ„æº

```move
struct Container<T: store> has key {
    value: T
}

public fun store<T: store>(account: &signer, value: T) {
    move_to(account, Container<T> { value });
}

public fun retrieve<T: store>(addr: address): &T acquires Container {
    &borrow_global<Container<T>>(addr).value
}
```

### 6.2 åµŒå¥—èµ„æº

```move
struct Item has store {
    id: u64,
    data: vector<u8>
}

struct Collection has key {
    items: vector<Item>
}

public fun add_item(account: &signer, item: Item) acquires Collection {
    let collection = borrow_global_mut<Collection>(signer::address_of(account));
    vector::push_back(&mut collection.items, item);
}
```

### 6.3 èµ„æºè¿ç§»

```move
public fun migrate_data(account: &signer) acquires OldData {
    let addr = signer::address_of(account);
    let OldData { value } = move_from<OldData>(addr);
    move_to(account, NewData { value, version: 2 });
}
```

---

## ğŸ“Š å¯¹æ¯”è¡¨æ ¼

### Move vs Solidity vs ä¼ ç»Ÿæ•°æ®åº“

| ç‰¹æ€§ | Move | Solidity | æ•°æ®åº“ |
|------|------|----------|--------|
| å­˜å‚¨ä½ç½® | è´¦æˆ·ä¸‹ | åˆçº¦ä¸­ | è¡¨ä¸­ |
| ç±»å‹æ£€æŸ¥ | ç¼–è¯‘æœŸ | ç¼–è¯‘æœŸ | è¿è¡Œæ—¶ |
| é‡å¤å­˜å‚¨ | ä¸å…è®¸ | è¦†ç›– | è¦†ç›– |
| æ‰€æœ‰æƒ | æ˜ç¡® | æ¨¡ç³Š | æ— æ¦‚å¿µ |
| è®¿é—®æ§åˆ¶ | ç±»å‹ç³»ç»Ÿ | ä¿®é¥°ç¬¦ | æƒé™ç³»ç»Ÿ |

---

## ğŸ’¡ å…³é”®è¦ç‚¹

1. **ä¸€åœ°å€ä¸€ç±»å‹ä¸€å®ä¾‹**ï¼šåŒä¸€åœ°å€ä¸‹ï¼Œæ¯ç§ç±»å‹çš„èµ„æºåªèƒ½æœ‰ä¸€ä¸ª
2. **acquires = èµ„æºè®¿é—®å£°æ˜**ï¼šè®©ç¼–è¯‘å™¨å’Œå¼€å‘è€…éƒ½æ¸…æ¥šèµ„æºä¾èµ–
3. **exists å…ˆæ£€æŸ¥**ï¼šè®¿é—®èµ„æºå‰å…ˆç”¨ `exists` æ£€æŸ¥æ˜¯å¦å­˜åœ¨
4. **ä½œç”¨åŸŸåˆ†ç¦»**ï¼šé¿å…å€Ÿç”¨å†²çªï¼Œä½¿ç”¨ä½œç”¨åŸŸåˆ†ç¦»è¯»å†™æ“ä½œ
5. **èµ„æºå¿…é¡»å¤„ç†**ï¼š`move_from` è¿”å›çš„èµ„æºå¿…é¡»è¢«å­˜å‚¨ã€è½¬ç§»æˆ–é”€æ¯

---

## ğŸ¯ æ€è€ƒé¢˜

1. ä¸ºä»€ä¹ˆ Move ä¸å…è®¸åŒä¸€åœ°å€å­˜å‚¨ä¸¤ä¸ªç›¸åŒç±»å‹çš„èµ„æºï¼Ÿ
2. `acquires` å…³é”®å­—å¦‚ä½•å¸®åŠ©é˜²æ­¢å¾ªç¯ä¾èµ–ï¼Ÿ
3. å¦‚æœå¿˜è®°å¤„ç† `move_from` è¿”å›çš„èµ„æºä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
4. åœ¨ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨èµ„æºæ³¨å†Œè¡¨è€Œä¸æ˜¯ç›´æ¥å­˜å‚¨èµ„æºï¼Ÿ

ç­”æ¡ˆåœ¨ä»Šæ—¥è€ƒè¯•ä¸­ï¼

---

**ä¸‹ä¸€æ­¥**ï¼šé˜…è¯» `ä»£ç ç¤ºä¾‹.move`ï¼Œçœ‹å®é™…ä»£ç ä¸­å¦‚ä½•ç®¡ç†èµ„æºã€‚
