# Day 10 å®è·µä»»åŠ¡ï¼šMove Prover å½¢å¼åŒ–éªŒè¯

## ğŸ“‹ ä»»åŠ¡æ¦‚è§ˆ

ä»Šå¤©ä½ éœ€è¦å®Œæˆä¸‰ä¸ªé€’è¿›å¼çš„å®è·µä»»åŠ¡ï¼Œä»ç®€å•çš„è®¡æ•°å™¨éªŒè¯åˆ°å¤æ‚çš„ä»£å¸åˆçº¦éªŒè¯ï¼Œå…¨é¢æŒæ¡ Move Prover çš„ä½¿ç”¨ã€‚

**æ€»æ—¶é—´**ï¼šçº¦ 3.5 å°æ—¶
- ä»»åŠ¡ 1ï¼š1 å°æ—¶
- ä»»åŠ¡ 2ï¼š1 å°æ—¶
- ä»»åŠ¡ 3ï¼š1.5 å°æ—¶

---

## ä»»åŠ¡ 1ï¼šè®¡æ•°å™¨éªŒè¯ï¼ˆåŸºç¡€ï¼‰â­â­â˜†â˜†â˜†

### ğŸ¯ ç›®æ ‡
ä¸ºä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨æ¨¡å—æ·»åŠ å®Œæ•´çš„å½¢å¼åŒ–è§„çº¦ï¼Œç†è§£å‰ç½®æ¡ä»¶ã€åç½®æ¡ä»¶å’Œä¸­æ­¢æ¡ä»¶ã€‚

### ğŸ“ éœ€æ±‚

å®ç°ä¸€ä¸ªå¸¦éªŒè¯çš„è®¡æ•°å™¨æ¨¡å—ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š

1. **åˆå§‹åŒ–è®¡æ•°å™¨**
   - åˆ›å»ºè®¡æ•°å™¨ï¼Œåˆå§‹å€¼ä¸º 0
   - éªŒè¯ï¼šè´¦æˆ·ä¸èƒ½é‡å¤åˆå§‹åŒ–

2. **é€’å¢æ“ä½œ**
   - è®¡æ•°å™¨å€¼åŠ  1
   - éªŒè¯ï¼šè®¡æ•°å™¨å¿…é¡»å­˜åœ¨
   - éªŒè¯ï¼šä¸ä¼šæº¢å‡º

3. **é€’å¢æŒ‡å®šæ•°é‡**
   - è®¡æ•°å™¨å€¼å¢åŠ æŒ‡å®šæ•°é‡
   - éªŒè¯ï¼šæ•°é‡å¿…é¡»å¤§äº 0
   - éªŒè¯ï¼šä¸ä¼šæº¢å‡º

4. **é‡ç½®è®¡æ•°å™¨**
   - å°†è®¡æ•°å™¨é‡ç½®ä¸º 0
   - éªŒè¯ï¼šåªæœ‰æ‰€æœ‰è€…å¯ä»¥é‡ç½®

5. **æŸ¥è¯¢è®¡æ•°å™¨å€¼**
   - è¿”å›å½“å‰å€¼
   - éªŒè¯ï¼šä¸ä¼šå¤±è´¥ï¼ˆå¦‚æœè®¡æ•°å™¨å­˜åœ¨ï¼‰

### ğŸ’» èµ·å§‹ä»£ç 

```move
module task1::counter_verified {
    use std::signer;

    /// é”™è¯¯ç 
    const ERROR_ALREADY_EXISTS: u64 = 1;
    const ERROR_NOT_FOUND: u64 = 2;
    const ERROR_OVERFLOW: u64 = 3;
    const ERROR_INVALID_AMOUNT: u64 = 4;

    /// è®¡æ•°å™¨èµ„æº
    struct Counter has key {
        value: u64,
        owner: address
    }

    /// TODO: å®ç°åˆå§‹åŒ–å‡½æ•°å¹¶æ·»åŠ è§„çº¦
    public fun initialize(account: &signer) {
        // ä½ çš„ä»£ç 
    }

    spec initialize {
        // ä½ çš„è§„çº¦
    }

    /// TODO: å®ç°é€’å¢å‡½æ•°å¹¶æ·»åŠ è§„çº¦
    public fun increment(addr: address) acquires Counter {
        // ä½ çš„ä»£ç 
    }

    spec increment {
        // ä½ çš„è§„çº¦
    }

    /// TODO: å®ç°é€’å¢æŒ‡å®šæ•°é‡å‡½æ•°å¹¶æ·»åŠ è§„çº¦
    public fun increment_by(addr: address, amount: u64) acquires Counter {
        // ä½ çš„ä»£ç 
    }

    spec increment_by {
        // ä½ çš„è§„çº¦
    }

    /// TODO: å®ç°é‡ç½®å‡½æ•°å¹¶æ·»åŠ è§„çº¦
    public fun reset(account: &signer) acquires Counter {
        // ä½ çš„ä»£ç 
    }

    spec reset {
        // ä½ çš„è§„çº¦
    }

    /// TODO: å®ç°æŸ¥è¯¢å‡½æ•°å¹¶æ·»åŠ è§„çº¦
    public fun get_value(addr: address): u64 acquires Counter {
        // ä½ çš„ä»£ç 
    }

    spec get_value {
        // ä½ çš„è§„çº¦
    }
}
```

### âœ… éªŒè¯æ ‡å‡†

è¿è¡Œä»¥ä¸‹å‘½ä»¤åº”è¯¥é€šè¿‡æ‰€æœ‰éªŒè¯ï¼š
```bash
aptos move prove --dev
```

### ğŸ’¡ æç¤º

1. ä½¿ç”¨ `old()` è¡¨è¾¾å¼æ¯”è¾ƒå‡½æ•°æ‰§è¡Œå‰åçš„çŠ¶æ€
2. ä¸ºæ¯ä¸ªå¯èƒ½çš„é”™è¯¯æƒ…å†µæ·»åŠ  `aborts_if`
3. ç¡®ä¿åç½®æ¡ä»¶å®Œæ•´æè¿°å‡½æ•°çš„è¡Œä¸º
4. æµ‹è¯•æº¢å‡ºè¾¹ç•Œæƒ…å†µ

---

## ä»»åŠ¡ 2ï¼šé“¶è¡Œè´¦æˆ·éªŒè¯ï¼ˆä¸­çº§ï¼‰â­â­â­â˜†â˜†

### ğŸ¯ ç›®æ ‡
ä¸ºä¸€ä¸ªé“¶è¡Œè´¦æˆ·ç³»ç»Ÿæ·»åŠ å®Œæ•´çš„å½¢å¼åŒ–éªŒè¯ï¼ŒåŒ…æ‹¬æ•°æ®ä¸å˜é‡å’Œå¤æ‚çš„è½¬è´¦é€»è¾‘ã€‚

### ğŸ“ éœ€æ±‚

å®ç°ä¸€ä¸ªå¸¦éªŒè¯çš„é“¶è¡Œç³»ç»Ÿï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š

1. **åˆ›å»ºè´¦æˆ·**
   - åˆ›å»ºè´¦æˆ·å¹¶è®¾ç½®åˆå§‹ä½™é¢
   - éªŒè¯ï¼šè´¦æˆ·ä¸èƒ½é‡å¤åˆ›å»º

2. **å­˜æ¬¾**
   - å¢åŠ è´¦æˆ·ä½™é¢
   - éªŒè¯ï¼šé‡‘é¢å¿…é¡»å¤§äº 0
   - éªŒè¯ï¼šä¸ä¼šæº¢å‡º

3. **å–æ¬¾**
   - å‡å°‘è´¦æˆ·ä½™é¢
   - éªŒè¯ï¼šåªæœ‰æ‰€æœ‰è€…å¯ä»¥å–æ¬¾
   - éªŒè¯ï¼šä½™é¢å¿…é¡»è¶³å¤Ÿ

4. **è½¬è´¦**
   - ä»ä¸€ä¸ªè´¦æˆ·è½¬åˆ°å¦ä¸€ä¸ªè´¦æˆ·
   - éªŒè¯ï¼šä¸èƒ½è‡ªå·±è½¬ç»™è‡ªå·±
   - éªŒè¯ï¼šæ€»é‡å®ˆæ’ï¼ˆå…³é”®ï¼ï¼‰
   - éªŒè¯ï¼šä¸ä¼šæº¢å‡ºæˆ–ä¸‹æº¢

5. **å†»ç»“/è§£å†»è´¦æˆ·**
   - ç®¡ç†å‘˜å¯ä»¥å†»ç»“è´¦æˆ·
   - å†»ç»“çš„è´¦æˆ·ä¸èƒ½æ“ä½œ
   - éªŒè¯ï¼šåªæœ‰ç®¡ç†å‘˜å¯ä»¥æ“ä½œ

### ğŸ’» èµ·å§‹ä»£ç 

```move
module task2::bank_verified {
    use std::signer;

    /// é”™è¯¯ç 
    const ERROR_ACCOUNT_EXISTS: u64 = 101;
    const ERROR_ACCOUNT_NOT_FOUND: u64 = 102;
    const ERROR_INSUFFICIENT_BALANCE: u64 = 201;
    const ERROR_INVALID_AMOUNT: u64 = 202;
    const ERROR_OVERFLOW: u64 = 203;
    const ERROR_ACCOUNT_FROZEN: u64 = 301;
    const ERROR_SELF_TRANSFER: u64 = 302;
    const ERROR_NOT_ADMIN: u64 = 401;

    /// è´¦æˆ·èµ„æº
    struct Account has key {
        balance: u64,
        owner: address,
        frozen: bool
    }

    /// ç®¡ç†å‘˜èƒ½åŠ›
    struct AdminCap has key, store {}

    /// TODO: æ·»åŠ è´¦æˆ·ä¸å˜é‡
    spec Account {
        // ä½™é¢éè´Ÿï¼ˆu64 ä¿è¯ï¼‰
        // å†»ç»“çš„è´¦æˆ·... (ä½ æ¥è¡¥å……)
    }

    /// TODO: å®ç°å¹¶éªŒè¯åˆ›å»ºè´¦æˆ·
    public fun create_account(account: &signer, initial_balance: u64) {
        // ä½ çš„ä»£ç 
    }

    spec create_account {
        // ä½ çš„è§„çº¦
    }

    /// TODO: å®ç°å¹¶éªŒè¯å­˜æ¬¾
    public fun deposit(addr: address, amount: u64) acquires Account {
        // ä½ çš„ä»£ç 
    }

    spec deposit {
        // ä½ çš„è§„çº¦
    }

    /// TODO: å®ç°å¹¶éªŒè¯å–æ¬¾
    public fun withdraw(account: &signer, amount: u64) acquires Account {
        // ä½ çš„ä»£ç 
    }

    spec withdraw {
        // ä½ çš„è§„çº¦
    }

    /// TODO: å®ç°å¹¶éªŒè¯è½¬è´¦ï¼ˆé‡ç‚¹ï¼ï¼‰
    public fun transfer(
        from: &signer,
        to: address,
        amount: u64
    ) acquires Account {
        // ä½ çš„ä»£ç 
    }

    spec transfer {
        // ä½ çš„è§„çº¦
        // å…³é”®ï¼šè¯æ˜æ€»é‡å®ˆæ’ï¼
    }

    /// TODO: å®ç°å¹¶éªŒè¯å†»ç»“è´¦æˆ·
    public fun freeze_account(
        _admin: &AdminCap,
        addr: address
    ) acquires Account {
        // ä½ çš„ä»£ç 
    }

    spec freeze_account {
        // ä½ çš„è§„çº¦
    }

    /// TODO: å®ç°å¹¶éªŒè¯è§£å†»è´¦æˆ·
    public fun unfreeze_account(
        _admin: &AdminCap,
        addr: address
    ) acquires Account {
        // ä½ çš„ä»£ç 
    }

    spec unfreeze_account {
        // ä½ çš„è§„çº¦
    }

    /// æŸ¥è¯¢ä½™é¢
    public fun balance_of(addr: address): u64 acquires Account {
        assert!(exists<Account>(addr), ERROR_ACCOUNT_NOT_FOUND);
        borrow_global<Account>(addr).balance
    }

    spec balance_of {
        requires exists<Account>(addr);
        ensures result == global<Account>(addr).balance;
        aborts_if !exists<Account>(addr);
    }
}
```

### âœ… éªŒè¯æ ‡å‡†

1. æ‰€æœ‰å‡½æ•°å¿…é¡»æœ‰å®Œæ•´çš„è§„çº¦
2. è½¬è´¦å‡½æ•°å¿…é¡»è¯æ˜æ€»é‡å®ˆæ’
3. å†»ç»“çš„è´¦æˆ·ä¸èƒ½è¿›è¡Œæ“ä½œ
4. éªŒè¯é€šè¿‡ï¼š`aptos move prove --dev`

### ğŸ’¡ æç¤º

1. è½¬è´¦æ—¶ä½¿ç”¨ä¸¤ä¸ªç‹¬ç«‹çš„ borrow_global_mut å¯èƒ½æœ‰é—®é¢˜ï¼Œè€ƒè™‘å…ˆè¯»åå†™
2. æ€»é‡å®ˆæ’çš„è§„çº¦ï¼š`ensures global<Account>(from).balance + global<Account>(to).balance == old(...)`
3. å†»ç»“çŠ¶æ€çš„æ£€æŸ¥åº”è¯¥åœ¨æ¯ä¸ªæ“ä½œä¸­è¿›è¡Œ
4. ä½¿ç”¨ `old()` è¡¨è¾¾å¼æ¯”è¾ƒä½™é¢å˜åŒ–

---

## ä»»åŠ¡ 3ï¼šç®€å•ä»£å¸åˆçº¦éªŒè¯ï¼ˆé«˜çº§ï¼‰â­â­â­â­â˜†

### ğŸ¯ ç›®æ ‡
ä¸ºä¸€ä¸ªå®Œæ•´çš„ä»£å¸åˆçº¦æ·»åŠ å½¢å¼åŒ–éªŒè¯ï¼Œè¯æ˜ä»£å¸æ€»é‡ä¸å˜æ€§å’Œè½¬è´¦çš„æ­£ç¡®æ€§ã€‚

### ğŸ“ éœ€æ±‚

å®ç°ä¸€ä¸ªç¬¦åˆåŸºæœ¬æ ‡å‡†çš„ä»£å¸åˆçº¦ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š

1. **åˆå§‹åŒ–ä»£å¸**
   - è®¾ç½®ä»£å¸åç§°ã€ç¬¦å·ã€ç²¾åº¦
   - é“¸é€ åˆå§‹ä¾›åº”é‡ç»™éƒ¨ç½²è€…
   - éªŒè¯ï¼šåªèƒ½åˆå§‹åŒ–ä¸€æ¬¡

2. **é“¸é€ ä»£å¸**
   - åªæœ‰ç®¡ç†å‘˜å¯ä»¥é“¸é€ 
   - å¢åŠ æ€»ä¾›åº”é‡å’Œæ¥æ”¶æ–¹ä½™é¢
   - éªŒè¯ï¼šä¸ä¼šæº¢å‡º
   - éªŒè¯ï¼šæ€»ä¾›åº”é‡ = æ‰€æœ‰ä½™é¢ä¹‹å’Œï¼ˆä¸å˜é‡ï¼‰

3. **é”€æ¯ä»£å¸**
   - ç”¨æˆ·å¯ä»¥é”€æ¯è‡ªå·±çš„ä»£å¸
   - å‡å°‘æ€»ä¾›åº”é‡å’Œç”¨æˆ·ä½™é¢
   - éªŒè¯ï¼šä½™é¢è¶³å¤Ÿ
   - éªŒè¯ï¼šæ€»ä¾›åº”é‡å®ˆæ’

4. **è½¬è´¦**
   - ä»ä¸€ä¸ªåœ°å€è½¬åˆ°å¦ä¸€ä¸ªåœ°å€
   - éªŒè¯ï¼šä½™é¢è¶³å¤Ÿ
   - éªŒè¯ï¼šä¸æº¢å‡º
   - éªŒè¯ï¼šæ€»ä¾›åº”é‡ä¸å˜

5. **æ‰¹å‡†å’Œè½¬è´¦**
   - ç”¨æˆ· A æ‰¹å‡†ç”¨æˆ· B èŠ±è´¹ä¸€å®šæ•°é‡çš„ä»£å¸
   - ç”¨æˆ· B å¯ä»¥ä» A è½¬è´¦åˆ°ä»»æ„åœ°å€
   - éªŒè¯ï¼šæˆæƒé¢åº¦è¶³å¤Ÿ
   - éªŒè¯ï¼šæ€»ä¾›åº”é‡ä¸å˜

### ğŸ’» èµ·å§‹ä»£ç 

```move
module task3::simple_token_verified {
    use std::signer;
    use std::string::{Self, String};

    /// é”™è¯¯ç 
    const ERROR_ALREADY_INITIALIZED: u64 = 1;
    const ERROR_NOT_INITIALIZED: u64 = 2;
    const ERROR_NOT_ADMIN: u64 = 3;
    const ERROR_BALANCE_NOT_FOUND: u64 = 4;
    const ERROR_INSUFFICIENT_BALANCE: u64 = 5;
    const ERROR_OVERFLOW: u64 = 6;
    const ERROR_ALLOWANCE_EXCEEDED: u64 = 7;
    const ERROR_SELF_TRANSFER: u64 = 8;

    /// ä»£å¸ä¿¡æ¯
    struct TokenInfo has key {
        name: String,
        symbol: String,
        decimals: u8,
        total_supply: u64,
        admin: address
    }

    /// ç”¨æˆ·ä½™é¢
    struct Balance has key {
        value: u64
    }

    /// æˆæƒä¿¡æ¯
    struct Allowance has key {
        // owner -> spender -> amount
        // ç®€åŒ–å®ç°ï¼šæ¯ä¸ªåœ°å€åªèƒ½æˆæƒç»™ä¸€ä¸ª spender
        spender: address,
        amount: u64
    }

    /// TODO: å®šä¹‰æ¨¡å—çº§ä¸å˜é‡
    spec module {
        // ä¸å˜é‡ï¼šæ€»ä¾›åº”é‡ç­‰äºæ‰€æœ‰ä½™é¢ä¹‹å’Œ
        // æç¤ºï¼šä½¿ç”¨ forall é‡è¯
    }

    /// TODO: å®ç°å¹¶éªŒè¯åˆå§‹åŒ–
    public fun initialize(
        admin: &signer,
        name: vector<u8>,
        symbol: vector<u8>,
        decimals: u8,
        initial_supply: u64
    ) {
        // ä½ çš„ä»£ç 
    }

    spec initialize {
        // ä½ çš„è§„çº¦
    }

    /// TODO: å®ç°å¹¶éªŒè¯é“¸é€ 
    public fun mint(
        admin: &signer,
        to: address,
        amount: u64
    ) acquires TokenInfo, Balance {
        // ä½ çš„ä»£ç 
    }

    spec mint {
        // ä½ çš„è§„çº¦
        // å…³é”®ï¼šè¯æ˜æ€»ä¾›åº”é‡å¢åŠ ç­‰äºä½™é¢å¢åŠ 
    }

    /// TODO: å®ç°å¹¶éªŒè¯é”€æ¯
    public fun burn(
        account: &signer,
        amount: u64
    ) acquires TokenInfo, Balance {
        // ä½ çš„ä»£ç 
    }

    spec burn {
        // ä½ çš„è§„çº¦
    }

    /// TODO: å®ç°å¹¶éªŒè¯è½¬è´¦
    public fun transfer(
        from: &signer,
        to: address,
        amount: u64
    ) acquires Balance {
        // ä½ çš„ä»£ç 
    }

    spec transfer {
        // ä½ çš„è§„çº¦
        // å…³é”®ï¼šè¯æ˜æ€»ä¾›åº”é‡ä¸å˜
    }

    /// TODO: å®ç°å¹¶éªŒè¯æ‰¹å‡†
    public fun approve(
        owner: &signer,
        spender: address,
        amount: u64
    ) {
        // ä½ çš„ä»£ç 
    }

    spec approve {
        // ä½ çš„è§„çº¦
    }

    /// TODO: å®ç°å¹¶éªŒè¯æˆæƒè½¬è´¦
    public fun transfer_from(
        spender: &signer,
        from: address,
        to: address,
        amount: u64
    ) acquires Balance, Allowance {
        // ä½ çš„ä»£ç 
    }

    spec transfer_from {
        // ä½ çš„è§„çº¦
    }

    /// æŸ¥è¯¢ä½™é¢
    public fun balance_of(addr: address): u64 acquires Balance {
        if (!exists<Balance>(addr)) {
            0
        } else {
            borrow_global<Balance>(addr).value
        }
    }

    spec balance_of {
        ensures result == if (exists<Balance>(addr)) {
            global<Balance>(addr).value
        } else {
            0
        };
        aborts_if false;
    }

    /// æŸ¥è¯¢æ€»ä¾›åº”é‡
    public fun total_supply(): u64 acquires TokenInfo {
        assert!(exists<TokenInfo>(@task3), ERROR_NOT_INITIALIZED);
        borrow_global<TokenInfo>(@task3).total_supply
    }

    spec total_supply {
        requires exists<TokenInfo>(@task3);
        ensures result == global<TokenInfo>(@task3).total_supply;
        aborts_if !exists<TokenInfo>(@task3);
    }

    /// æŸ¥è¯¢æˆæƒé¢åº¦
    public fun allowance(owner: address, spender: address): u64 acquires Allowance {
        if (!exists<Allowance>(owner)) {
            0
        } else {
            let allowance = borrow_global<Allowance>(owner);
            if (allowance.spender == spender) {
                allowance.amount
            } else {
                0
            }
        }
    }

    spec allowance {
        ensures result == if (exists<Allowance>(owner) && 
                             global<Allowance>(owner).spender == spender) {
            global<Allowance>(owner).amount
        } else {
            0
        };
        aborts_if false;
    }
}
```

### âœ… éªŒè¯æ ‡å‡†

1. æ‰€æœ‰å‡½æ•°å¿…é¡»æœ‰å®Œæ•´çš„è§„çº¦
2. å¿…é¡»è¯æ˜ä»£å¸æ€»é‡ä¸å˜æ€§ï¼ˆé™¤äº† mint å’Œ burnï¼‰
3. å¿…é¡»è¯æ˜è½¬è´¦çš„æ­£ç¡®æ€§å’Œå®‰å…¨æ€§
4. éªŒè¯é€šè¿‡ï¼š`aptos move prove --dev`

### ğŸ’¡ æç¤º

1. **æ€»ä¾›åº”é‡ä¸å˜æ€§**ï¼šè¿™æ˜¯æœ€é‡è¦çš„æ€§è´¨ï¼Œåœ¨ transfer å’Œ transfer_from ä¸­å¿…é¡»è¯æ˜
2. **é‡è¯ä½¿ç”¨**ï¼šæ¨¡å—çº§ä¸å˜é‡å¯èƒ½éœ€è¦ `forall` é‡è¯éå†æ‰€æœ‰åœ°å€
3. **æ¡ä»¶è¡¨è¾¾å¼**ï¼šä½¿ç”¨ `if...else` å¤„ç†å¯é€‰çš„èµ„æº
4. **æº¢å‡ºæ£€æŸ¥**ï¼šæ‰€æœ‰åŠ æ³•æ“ä½œéƒ½è¦æ£€æŸ¥æº¢å‡º
5. **æˆæƒé€»è¾‘**ï¼štransfer_from è¦æ£€æŸ¥å¹¶å‡å°‘æˆæƒé¢åº¦

### ğŸŒŸ åŠ åˆ†é¡¹

1. æ·»åŠ æš‚åœåŠŸèƒ½ï¼šç®¡ç†å‘˜å¯ä»¥æš‚åœæ‰€æœ‰è½¬è´¦
2. æ·»åŠ é»‘åå•ï¼šæŸäº›åœ°å€ä¸èƒ½è¿›è¡Œè½¬è´¦
3. ä¸ºä¸å˜é‡ç¼–å†™è¯¦ç»†çš„æ–‡æ¡£æ³¨é‡Š
4. ä¼˜åŒ–è§„çº¦ï¼Œå‡å°‘éªŒè¯æ—¶é—´

---

## ğŸ“Š æäº¤è¦æ±‚

### æ–‡ä»¶ç»“æ„
```
02_å®è·µä»»åŠ¡/
â”œâ”€â”€ ä»»åŠ¡è¯´æ˜.md (æœ¬æ–‡ä»¶)
â”œâ”€â”€ task1_counter.move
â”œâ”€â”€ task2_bank.move
â””â”€â”€ task3_token.move
```

### éªŒè¯è¦æ±‚

æ¯ä¸ªä»»åŠ¡éƒ½è¦é€šè¿‡å½¢å¼åŒ–éªŒè¯ï¼š
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
aptos move prove --dev

# åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
# âœ“ task1::counter_verified::initialize
# âœ“ task1::counter_verified::increment
# âœ“ task1::counter_verified::increment_by
# ...
# All verification succeeded!
```

---

## ğŸ¯ å­¦ä¹ ç›®æ ‡æ£€æŸ¥

å®Œæˆè¿™äº›ä»»åŠ¡åï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š

- [ ] ç†è§£å½¢å¼åŒ–éªŒè¯çš„åŸºæœ¬æ¦‚å¿µ
- [ ] ç†Ÿç»ƒä½¿ç”¨ requiresã€ensuresã€aborts_if
- [ ] æŒæ¡ old() è¡¨è¾¾å¼çš„ä½¿ç”¨
- [ ] èƒ½å¤Ÿè®¿é—®å’Œæ¨ç†å…¨å±€å­˜å‚¨
- [ ] ç†è§£å¹¶è¯æ˜æ•°æ®ä¸å˜é‡
- [ ] èƒ½å¤ŸéªŒè¯å¤æ‚çš„ä¸šåŠ¡é€»è¾‘
- [ ] ä½¿ç”¨é‡è¯è¡¨è¾¾å…¨å±€æ€§è´¨

---

## ğŸ’¡ è°ƒè¯•æŠ€å·§

### å¦‚æœéªŒè¯å¤±è´¥

1. **ä»”ç»†é˜…è¯»é”™è¯¯ä¿¡æ¯**
   ```
   error: post-condition does not hold
   â”Œâ”€ task.move:25:9
   â”‚
   25â”‚         ensures result == a + b;
   â”‚         ^^^^^^^^^^^^^^^^^^^^^^^^
   â”‚
   = counterexample: a = 18446744073709551615, b = 1
   ```

2. **æ·»åŠ å‰ç½®æ¡ä»¶**
   - å¦‚æœå‘ç°åä¾‹ï¼Œè€ƒè™‘æ˜¯å¦éœ€è¦æ·»åŠ  requires

3. **ç®€åŒ–è§„çº¦**
   - å…ˆéªŒè¯ç®€å•çš„æ€§è´¨ï¼Œå†é€æ­¥æ·»åŠ å¤æ‚çš„

4. **ä½¿ç”¨ pragma**
   - `pragma verify = false;` ä¸´æ—¶è·³è¿‡æŸä¸ªå‡½æ•°
   - `pragma timeout = 120;` å¢åŠ è¶…æ—¶æ—¶é—´

5. **æŸ¥çœ‹ Prover è¾“å‡º**
   ```bash
   aptos move prove --dev --verbose
   ```

---

## ğŸ“š å‚è€ƒèµ„æº

- [Move Prover ç”¨æˆ·æŒ‡å—](https://github.com/move-language/move/blob/main/language/move-prover/doc/user/prover-guide.md)
- [Aptos Framework è§„çº¦ç¤ºä¾‹](https://github.com/aptos-labs/aptos-core/tree/main/aptos-move/framework/aptos-framework/sources)
- æŸ¥çœ‹ `01_ç†è®ºå­¦ä¹ /ä»£ç ç¤ºä¾‹.move` ä¸­çš„å®Œæ•´ç¤ºä¾‹

---

## â° æ—¶é—´åˆ†é…å»ºè®®

- **ä»»åŠ¡ 1ï¼ˆ1 å°æ—¶ï¼‰**
  - å®ç°ä»£ç ï¼š20 åˆ†é’Ÿ
  - ç¼–å†™è§„çº¦ï¼š30 åˆ†é’Ÿ
  - è°ƒè¯•éªŒè¯ï¼š10 åˆ†é’Ÿ

- **ä»»åŠ¡ 2ï¼ˆ1 å°æ—¶ï¼‰**
  - å®ç°ä»£ç ï¼š25 åˆ†é’Ÿ
  - ç¼–å†™è§„çº¦ï¼š25 åˆ†é’Ÿ
  - è°ƒè¯•éªŒè¯ï¼š10 åˆ†é’Ÿ

- **ä»»åŠ¡ 3ï¼ˆ1.5 å°æ—¶ï¼‰**
  - å®ç°ä»£ç ï¼š35 åˆ†é’Ÿ
  - ç¼–å†™è§„çº¦ï¼š40 åˆ†é’Ÿ
  - è°ƒè¯•éªŒè¯ï¼š15 åˆ†é’Ÿ

---

**ç¥ä½ æŒ‘æˆ˜æˆåŠŸï¼å½¢å¼åŒ–éªŒè¯è™½ç„¶æœ‰æŒ‘æˆ˜ï¼Œä½†å®ƒèƒ½ç»™ä½ çš„ä»£ç æä¾›æœ€å¼ºçš„å®‰å…¨ä¿è¯ï¼** ğŸš€ğŸ’ª
